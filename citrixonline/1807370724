PHTTP216.115.210.206"∏
HGET /collaboration/scripts/jquery/jquery.infinite-carousel.js HTTP/1.1
Host: www.citrixonline.com
Connection: keep-alive
Accept: */*
vUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36
IReferer: http://www.citrixonline.com/collaboration/online_collaboration
$Accept-Encoding: gzip,deflate,sdch
!Accept-Language: en-US,en;q=0.8
îCookie: webSession=SessionInfo%3D16931373%253A89E2106579E2528; webVisitor=FirstVisit%3D1389229069000%26LastVisit%3D1389229069000; FEC_LOCALE=en_US

*ù
HTTP/1.1 200 OK
+Server: CouchDB/1.2.2 (Erlang OTP/R15B01)
"ETag: "L77PisQQ7N9QAGi1X21mVw=="
%Date: Thu, 09 Jan 2014 00:57:49 GMT
(Content-Type: application/x-javascript
'Content-MD5: L77PisQQ7N9QAGi1X21mVw==
Content-Length: 2408
 Cache-Control: must-revalidate
Accept-Ranges: bytes
Í
/**
 * @author StÈphane Roucheray 
 * @extends jquery
 */


jQuery.fn.carousel = function(previous, next, options){
	var sliderList = jQuery(this).children()[0];
	
	if (sliderList) {
		var increment = jQuery(sliderList).children().outerWidth("true"),
		elmnts = jQuery(sliderList).children(),
		numElmts = elmnts.length,
		sizeFirstElmnt = increment,
		shownInViewport = Math.round(jQuery(this).width() / sizeFirstElmnt),
		firstElementOnViewPort = 1,
		isAnimating = false;
		
		for (i = 0; i < shownInViewport; i++) {
			jQuery(sliderList).css('width',(numElmts+shownInViewport)*increment + increment + "px");
			jQuery(sliderList).append(jQuery(elmnts[i]).clone());
		}
		
		jQuery('a.hpCarouselCOL').mouseover(
			function(e){ 
				jQuery(this).addClass('hover');
			}
		);
		jQuery('a.hpCarouselCOL').mousedown(
			function(e) {	
				 jQuery(this).addClass('click');
			}
		);
		jQuery('a.hpCarouselCOL').mouseup(
			function(e) {
				jQuery(this).removeClass('click');
			}
		);
		jQuery('a.hpCarouselCOL').mouseout(
			function(e) {
				jQuery(this).removeClass('click hover');
			}
		);
		
		var carouselItems = jQuery(this).find('li');		
		
		carouselItems.mouseover(
			function(e) {	
				 jQuery(this).addClass('hover');
			}
		);
		carouselItems.mousedown(	
			function(e) {	
				 jQuery(this).addClass('click');
			}
		);
		carouselItems.mouseup(
			function(e) {
				jQuery(this).removeClass('click');
			}
		);
		carouselItems.mouseout(
			function(e) {
				jQuery(this).removeClass('click hover');
			}
		);
		
		jQuery(previous).click(function(event){
			if (!isAnimating) {
				if (firstElementOnViewPort == 1) {
					jQuery(sliderList).css('left', "-" + numElmts * sizeFirstElmnt + "px");
					firstElementOnViewPort = numElmts;
				}
				else {
					firstElementOnViewPort--;
				}
				
				jQuery(sliderList).animate({
					left: "+=" + increment,
					y: 0,
					queue: true
				}, "swing", function(){isAnimating = false;});
				isAnimating = true;
			}
			
		});
		
		jQuery(next).click(function(event){
			if (!isAnimating) {
				if (firstElementOnViewPort > numElmts) {
					firstElementOnViewPort = 2;
					jQuery(sliderList).css('left', "0px");
				}
				else {
					firstElementOnViewPort++;
				}
				jQuery(sliderList).animate({
					left: "-=" + increment,
					y: 0,
					queue: true
				}, "swing", function(){isAnimating = false;});
				isAnimating = true;
			}
		});
	}
};