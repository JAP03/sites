»HTTPS66.117.23.101"±
þGET /m2/schwab/mbox/standard?mboxHost=www.schwab.com&mboxSession=1389301906953-62835&mboxPage=1389301906953-62835&screenHeight=1200&screenWidth=1920&browserWidth=937&browserHeight=1051&browserTimeOffset=-300&colorDepth=24&mboxCount=1&version=20130612&mbox=prospect_phome&mboxId=0&mboxTime=1389283906961&mboxURL=https%3A%2F%2Fwww.schwab.com%2F&mboxReferrer=&mboxVersion=44 HTTP/1.1
Host: schwab.tt.omtrdc.net
Connection: keep-alive
Accept: */*
vUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36
"Referer: https://www.schwab.com/
$Accept-Encoding: gzip,deflate,sdch
!Accept-Language: en-US,en;q=0.8

*ŒÑ
HTTP/1.1 200 OK
pragma: no-cache
2Content-Type: text/javascript;charset=ISO-8859-1
Content-Length: 26578
%Date: Thu, 09 Jan 2014 21:11:34 GMT
Server: Test & Target
ÔÏ
var mboxCurrent=mboxFactories.get('default').get('prospect_phome',0);mboxCurrent.setEventTime('include.start');document.write('<div style="visibility: hidden; display: none" id="mboxImported-default-prospect_phome-0">');document.write('<!-- Offer Id: 87450  --><script type=\"text\/javascript\">\r\n\r\n    \/\/polyfills\r\n    if (!Date.now) {\r\n      Date.now = function now() {\r\n        return new Date().getTime();\r\n      };\r\n    }\r\n    \/\/trim polyfill\r\n    if(typeof String.prototype.trim !== \'function\') {\r\n      String.prototype.trim = function() {\r\n        return this.replace(\/^\\s+|\\s+$\/g, \'\');\r\n      };\r\n    }\r\n    if (typeof console == \"undefined\") {\r\n      this.console = {\r\n        log: function() {},\r\n        info: function() {},\r\n        error: function() {},\r\n        warn: function() {}\r\n      };\r\n    }\r\n    function bbiConvertToSlug(str_text){\r\n        return str_text.toLowerCase().replace(\/[^\\w ]+\/g,\'\').replace(\/ +\/g,\'-\');\r\n    }\r\n\r\n\r\n\r\n\r\n\/\/define constants\r\n\r\n\/\/ Declare our BB object\r\nvar bbi = bbi || {};\r\nbbi.mboxName = \"mboxClickTrack\";\r\nbbi.clickTrackDelay = 300;\r\nvar bbiString = \"Default\";\r\nbbiString=bbiString.trim();\r\nbbi.startTime = Date.now();\r\nvar bbiNewString = bbiString.slice(bbiString.indexOf(\' \'), bbiString.length);\r\nvar variationLetterx = bbiNewString.trim();\r\nbbi.jQueryPath=\'\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/1.8.3\/jquery.min.js\';\r\n\/\/ bbi.test will need to be included in EVERY offer moving forward as it will be used\r\n\/\/ to give anyone valuable information about the test running on the current page.\r\nbbi.test = {\r\n        \r\n        \/\/ This should be the campaign name as it is labeled in the testing tool\r\n        campaignName : \"Prospect - Homepage - Test 1 [LIVE - 50%]\",\r\n\r\n        \/\/ This should be the id of the campaign name (T&T only)\r\n        capaignId : \"165999\",\r\n        \r\n        \/\/ Fully qualified name of the variation this should match the name of the offer in the testing tool.\r\n        variationName : \"Default\",\r\n        \r\n        \/\/ The letter given to this offer\r\n        variationLetter : \'variationLetterx\',\r\n        \r\n        \/\/ This should be the id of the offer (T&T only)\r\n        variationId : \"0\",\r\n        \r\n        \/\/ Day the test launched (MM-DD-YYYY)\r\n        launchDate : \'\',\r\n        \r\n        \/\/ The URL to the screenshot for this variation on brooksbell.com\r\n        screenshot : \'\',\r\n        \r\n        \/\/ The name of the developer who coded this offer\r\n        developer : \'Chad\',\r\n        \r\n        \/\/ Primary analysts\' name assigned to this campaign\r\n        primary_analyst : \'Test\',\r\n        \r\n        \/\/ Secondary analysts\' name assigned to this campaign\r\n        secondary_analyst : \'\',\r\n        \r\n        \/\/ CM responsible for this campaign\r\n        cm : \'Claire\'\r\n}\r\n\r\n\r\nbbi.includeJs = function (jsFilePath) {\r\n    var js = document.createElement(\"script\");\r\n    js.type = \"text\/javascript\";\r\n    js.src = jsFilePath;\r\n    document.body.appendChild(js);\r\n}\r\n\r\n\/\/ Set all bbi object parameters here such as the activeFunnelID, interval, verbose, etc.\r\nbbi.init = function () {\r\n\r\n    bbi.activeFunnelId = 4;\r\n    \r\n\r\n    \/\/ (Change these values to fit the needs of the test)\r\n    bbi.trackingSystem = \'sitecatalyst\';\r\n    bbi.transformation = true;\r\n    bbi.verbose = true;    \r\n    \r\n    \/\/ Have a good reason for changing these\r\n    bbi.interval = 100;\r\n    bbi.limit = 40;    \r\n\r\n    \/\/ BBI object settings\r\n    \/\/ NOTE: These should never be modified\r\n    bbi.complete = false;\r\n    bbi.tracking = false;  \r\n    bbi.count = 1;\r\n    bbi.terminate = false;\r\n    bbi.hasTransformed = false;\r\n    bbi.hasTracking = false;\r\n    bbi.hasDOMElement = false;\r\n    bbi.evarFired = false;\r\n\r\n    bbi.debug(\'[Initializing BBI Object]\',\'#2a6777\');        \r\n};\r\n\r\n\r\n\r\n\r\n\/*******************************************************************************************************************\r\n                                                    eVar Code\r\n*******************************************************************************************************************\/\r\n\r\n\/\/ Function to set a custom SiteCatalyst eVar value\r\nbbi.setEvar = function(evarValue) { \r\n    bbi.debug(\'[Function call : setEvar]\',\'#d24f1e\');\r\n    var customLinkOmniObj = {};\r\n\r\n    customLinkOmniObj.linkTrackVars = \'eVar14,prop15\';\r\n    customLinkOmniObj.eVar14 = evarValue;    \r\n\r\n    s_265.tl(true,\'o\', \'AB Test\', customLinkOmniObj);\r\n};\r\n\r\n\/\/  Function to return the entire eVar for this visit\r\nbbi.getEvarString = function() {\r\n    bbi.debug(\'[Function call : getEvarString\',\'#d24f1e\');    \r\n    var campaign_name   = \"Prospect - Homepage - Test 1 [LIVE - 50%]\";\r\n    var currpi          = \"\";\r\n    var actben          = \"\";\r\n    var referrer        = bbi.getNCID();\r\n    var recipes         = bbi.getRecipe();\r\n    var evar            = campaign_name + \"|\" + recipes + \"|\" + currpi + \"|\" + referrer + \"|\" + actben;\r\n\r\n    return evar;\r\n}\r\n\r\n\/\/ Function to get a particular URL query string parameter\r\nbbi.getQueryStringParam = function(param) {    \r\n    bbi.debug(\'[Function call : getQueryString]\',\'#d24f1e\');    \r\n    return decodeURI(\r\n        (RegExp(param + \'=\' + \'(.+?)(&|$)\').exec(location.search)||[,null])[1]\r\n    );\r\n}\r\n\r\n\/\/Return NCID. source order: profile param, URL ncid, URL originator\r\nbbi.getNCID = function() {\r\n       \r\n    var ncid_final;\r\n    var ncid_profile = \"\";\r\n    var ncid_urlncid = bbi.getQueryStringParam(\"ncid\");\r\n    var ncid_urlorig = bbi.getQueryStringParam(\"originator\");\r\n\r\n    if (ncid_profile.length > 0 && ncid_profile!==null && ncid_profile!=\'null\') {\r\n        ncid_final = ncid_profile;  \r\n    } \r\n    else if (ncid_urlncid.length > 0 && ncid_urlncid!==null && ncid_urlncid!=\'null\') {\r\n        ncid_final = ncid_urlncid;\r\n    }\r\n    else if (ncid_urlorig.length > 0 && ncid_urlorig!==null && ncid_urlorig!=\'null\') {\r\n        ncid_final = ncid_urlorig;\r\n    }\r\n    else {\r\n        ncid_final = \"\";\r\n    }\r\n    bbi.debug(\'[Function call : getNCID = \' + ncid_final + \']\',\'#d24f1e\'); \r\n    return ncid_final;\r\n}\r\n\r\n\/\/ Return array of recipes from string\r\nbbi.getRecipe = function() {\r\n    bbi.debug(\'[Function call : getRecipe]\',\'#d24f1e\');        \r\n    var recipe_list = \"\";\r\n    var recipe_array_raw = recipe_list.split(\"#\");\r\n    \r\n    bbi.debug(\'[Function call : getRecipe = \' + recipe_array_raw.length + \']\',\'red\');\r\n    bbi.debug(\'[Function call : getRecipe = \' + bbi.activeFunnelId.length + \']\',\'red\');\r\n    \r\n    \/\/ Extend array to be big enough for this funnel\r\n    while (recipe_array_raw.length <= bbi.activeFunnelId){\r\n        recipe_array_raw.push(\"\");\r\n    }\r\n\r\n    \/\/ Fix for old profile params - overwrite if new is 0\r\n    if (recipe_array_raw[0] == \"0\") {\r\n        recipe_array_raw[0] = \"\";\r\n    }\r\n  \r\n    if (recipe_array_raw[1] == \"0\") { \r\n        recipe_array_raw[1] = \"\";\r\n    }\r\n  \r\n    if (recipe_array_raw[2] == \"0\") {\r\n        recipe_array_raw[2] = \"\";\r\n    }\r\n\r\n    \/\/ Loop through to reduce to letter\r\n    var recipe_array_fixed = recipe_array_raw;\r\n    for (i = 0; i < recipe_array_raw.length; i++) {\r\n    \r\n        \/\/ If this is the current (active) campaign funnel, use the campaign.recipe instead of the profile.\r\n        if (i == bbi.activeFunnelId) {\r\n            recipe_array_raw[i] = \"Default\";\r\n        }\r\n\r\n        \/\/extract letter from full\r\n        switch (recipe_array_raw[i]) {\r\n            case \"\" :\r\n                recipe_array_fixed[i] = \"0\";\r\n                break;\r\n            case \"Default\" :\r\n            case \"default\" :\r\n            case \"Control\" :\r\n            case \"control\" :      \r\n                recipe_array_fixed[i] = \"X\";\r\n                break;\r\n            default:\r\n                recipe_array_fixed[i] = recipe_array_raw[i].slice(-1); \/\/experience must be 1 character\r\n                break;\r\n        }\r\n    }\r\n    return recipe_array_fixed.join(\"#\");\r\n}\r\n\r\n\/*******************************************************************************************************************\r\n                                                    Polling Code\r\n*******************************************************************************************************************\/\r\n\r\n\/\/ Function: starts polling mechanisn\r\n\/\/ Args: Takes bbi.insturctions as a callback\r\n\/\/ NOTE: There should be no need to modify this function\r\nbbi.start = function (o) {\r\n    bbi.debug(\'[Start: Polling]\',\'#1a1a1a\');\r\n    bbi.pollName = setInterval(function () {\r\n        o();\r\n        bbi.end();\r\n    }, bbi.interval);\r\n};\r\n\/\/ Function: Ends the polling mechanism\r\n\/\/ NOTE: There should be no need to modify this function.\r\nbbi.end = function () {\r\n    bbi.debug(\'[End: Attempting to End Polling]\',\'#1a1a1a\');\r\n    if (bbi.terminate || bbi.count >= bbi.limit) {\r\n        bbi.debug(\'[End: Polling Ended]\',\'#1a1a1a\');\r\n        clearInterval(bbi.pollName);        \r\n    } \r\n    else {\r\n        bbi.debug(\'[End: Continuing Polling]\'+bbi.count,\'#1a1a1a\');\r\n        bbi.count++;    \r\n    }  \r\n};\r\n\/\/ Function: Kills the polling completely if the limit set in init has been reached\r\n\/\/ NOTE: This must always be the first thing called in bbi.instructions. \r\nbbi.kill = function() {\r\n    bbi.debug(\'[Terminate: Poll Iteration\' + bbi.count + \']\',\'#2a6777\')\r\n    bbi.terminate = true;\r\n};\r\n\/\/ Function: Displays messages about the polling process if bbi.verbose is set to true\r\n\/\/ NOTE: Set bbi.verbose to false for production code\r\nbbi.debug = function(msg, color) {\r\n      if(window.console && msg && bbi.verbose === true) {  \r\n            var isMSIE = \/*@cc_on!@*\/false;       \r\n          if(isMSIE) {\r\n              \r\n               if (typeof console.log == \'function\') { \r\n                  console.log(msg); \r\n                }     \r\n\r\n          }\r\n          else {\r\n\r\n                if (typeof console.log == \'function\') { \r\n                      console.log(\"%c\" + msg, \"color:\" + color + \";font-weight:normal;\");\r\n                } \r\n            }\r\n      }\r\n};\r\n\r\n\/\/ Function: Checks for the existence of a tracking system before firing any custom tracking code.\r\n\/\/ NOTE: New trackings systems such as Google Analytics should be added\/handled in a new case within the below switch statement\r\nbbi.trackingExists = function() {\r\n    bbi.debug(\'[Tracking: Function call : trackingExist]\',\'#d24f1e\'); \r\n    \r\n    if(bbi.hasTracking) {\r\n        bbi.debug(\'[Tracking: Tracking System Already Found!]\',\'#2a6777\');     \r\n    }\r\n    else{\r\n        switch(bbi.trackingSystem) {\r\n            case \"sitecatalyst\": {\r\n                \r\n                \/\/ Check for Omniture\r\n                if(window.s_265){\r\n                    bbi.debug(\'[Tracking: Site Catalyst Found!]\',\'green\');\r\n                    bbi.tracking = true;\r\n                    bbi.hasTracking = true;\r\n\r\n                    if(bbi.transformation === false && bbi.evarFired === false) {\r\n                        bbi.evarCode();\r\n                        bbi.evarFired = true;\r\n                        bbi.terminate = true;\r\n                    }\r\n                    else if(bbi.hasTransformed == true && bbi.transformation === true && bbi.evarFired == false) {                         \r\n                        bbi.evarCode();\r\n                        bbi.evarFired = true;\r\n                        bbi.terminate = true;\r\n                    }\r\n                    else {\r\n                        \/\/ do nothing\r\n                    }\r\n                    \r\n                }\r\n                else {\r\n                    bbi.debug(\'[Tracking: Site Catalyst NOT Found!]\',\'red\');                    \r\n                }\r\n                break;\r\n            }\r\n            default:                \r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\n\/\/ TODO: Parameterize instructions function to feed bbi.init function and move to polling code section\r\n\/\/ Going to set:\r\n\/\/      trackingsystem\r\n\/\/      evar code only\r\n\/\/      id of dom element to wait for\r\n\/\/      transformation\r\n\/\/      debug on\/off\r\n\r\n\/\/ Function: This function has two possible purposes.\r\n\/\/  1.) Check for Omniture (SiteCatalyst), this is ALWAYS ran\r\n\/\/  2.) Check for a desired DOM element to transform. Runs only if bbi.transform is set to true\r\n\/\/ NOTES:\r\nbbi.instructions = function () {\r\n    if(typeof($) !== \'undefined\' || typeof(jQuery) !== \'undefined\') {\r\n\r\n        if(jQuery !== \'undefined\') {\r\n            $ = jQuery;\r\n        }    \r\n        bbi.debug(\'[Poll Iteration: \' + bbi.count + \']\',\'cyan\');    \r\n        \r\n        \/\/ Always check to see if polling should continue before processing any bbi.instructions\r\n        if(bbi.count >= bbi.limit) {\r\n            bbi.kill();\r\n        }\r\n\r\n        \/\/ Does the offer code to be delivered require any DOM manipulation?\r\n        if(bbi.transformation) {\r\n            \r\n            \r\n            \/\/ Does the DOM element that needs to be present, exist? Has the offer code already been delivered?\r\n            if(bbi.hasTransformed === false) {           \r\n                bbi.debug(\'[Instructions: Attempting Transformation]\',\'#2a6777\'); \r\n                \r\n                \/\/ Attempt to deliver the offer\r\n                bbi.offer();\r\n\r\n                \/\/ Was it successful?\r\n                if(bbi.hasTransformed) {\r\n                    bbi.debug(\'[Instructions: Transformation Succeeded]\',\'green\');              \r\n                }\r\n                else {\r\n                    bbi.debug(\'[Instructions: Transformation Failed]\',\'red\');              \r\n                }\r\n            }\r\n\r\n            bbi.hasTracking = bbi.trackingExists();\r\n\r\n            if(bbi.hasTracking === true && bbi.evarFired === false && bbi.hasTransformed === true) {\r\n                bbi.setEvar(bbi.getEvarString());               \r\n            }\r\n        }\r\n        else {\r\n            bbi.debug(\'[Instructions: Transformation Not Needed]\',\'green\'); \r\n            bbi.tracking = bbi.trackingExists();\r\n\r\n            if(bbi.hasTracking && bbi.evarFired === false) {\r\n                bbi.setEvar(bbi.getEvarString());\r\n            }\r\n        }\r\n    }else{\r\n        bbi.debug(\'[No Jquery]\',\'green\'); \r\n        bbi.includeJs(bbi.jQueryPath);  \r\n    }\r\n}\r\n\r\n\/*******************************************************************************************************************\r\n                                                    Implementation\r\n*******************************************************************************************************************\/\r\n\r\nbbi.init();\r\n\r\n\/\/ Offer code goes here!\r\nbbi.offer = function() { \r\n\r\n    bbi.debug(\'[Offer: Function Called!]\',\'#d24f1e\');\r\n\r\n    \/\/ DOM LOGIC GOES HERE!\r\n    if($(\'#main-content\').length > 0){\r\n\r\n          mboxFactoryDefault.addOnLoad(function(){\r\n\r\n                $(\'<div\/>\',{\'id\':\'bbClickMbox\'}).prependTo(\'body\');\r\n                \r\n                \/\/Define param Mbox\r\n                mboxDefine(\'bbClickMbox\', \'mBoxClickTrack\');\r\n\r\n                function bbiClickTrack(target,area,clicked){\r\n                        $(target).click(function(e){\r\n                                        \r\n                            mboxUpdate(\'mBoxClickTrack\',\'area=\' + area,\'clicked=\' + clicked);\r\n\r\n                            if($(this).hasClass(\'noEvent\')\r\n                                || $(this).attr(\'href\')==\'#\'\r\n                                || !$(this).attr(\'href\')\r\n                                || $(this).attr(\'target\')==\'_blank\'\r\n                            ){\r\n                            \r\n                                \/\/e.preventDefault();\r\n                                \/\/return false;\r\n                            \r\n                            }else{\r\n\r\n                                var href = $(this).attr(\"href\");\r\n                                e.preventDefault();\r\n                                var time = 300;\r\n                                window.setTimeout(function(){\r\n                                    document.location.href=href;\r\n                                }, time);\r\n                                return false;\r\n\r\n                            }\r\n                        });\r\n                }\r\n               var bbiMetric=[\r\n                    {\r\n                        \'selector\':\'#LoginSec\',\r\n                        \'area\' : \'quickNav\',\r\n                        \'clicked\' : \'login\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'li a.icon-branch\',\r\n                        \'area\' : \'quickNav\',\r\n                        \'clicked\' : \'branchLocator\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'li a.contact-us\',\r\n                        \'area\' : \'quickNav\',\r\n                        \'clicked\' : \'contactUs\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'#nav-bar>li>a:eq(0)\',\r\n                        \'area\' : \'topNav\',\r\n                        \'clicked\' : \'investing\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'#nav-bar>li>a:eq(1)\',\r\n                        \'area\' : \'topNav\',\r\n                        \'clicked\' : \'bankingLending\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'#nav-bar>li>a:eq(2)\',\r\n                        \'area\' : \'topNav\',\r\n                        \'clicked\' : \'trading\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'#nav-bar>li>a:eq(3)\',\r\n                        \'area\' : \'topNav\',\r\n                        \'clicked\' : \'ourPerspective\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'#nav-bar>li>a:eq(4)\',\r\n                        \'area\' : \'topNav\',\r\n                        \'clicked\' : \'forClients\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'div.nav-cta-cntr a.btn-cta\',\r\n                        \'area\' : \'topNav\',\r\n                        \'clicked\' : \'openAccount\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"ul.nav-list li a:contains(\'Accounts & Products\') + ul li a,ul.nav-list li a:contains(\'Accounts & Products\')\",\r\n                        \'area\' : \'subNav\',\r\n                        \'clicked\' : \'accountsProducts\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"ul.nav-list li a:contains(\'Pricing & Services\') + ul li a,ul.nav-list li a:contains(\'Pricing & Services\')\",\r\n                        \'area\' : \'subNav\',\r\n                        \'clicked\' : \'pricingServices\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"ul.nav-list li a:contains(\'Investment Help\') + ul li a,ul.nav-list li a:contains(\'Investment Help\')\",\r\n                        \'area\' : \'subNav\',\r\n                        \'clicked\' : \'investmentHelp\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"ul.nav-list li a:contains(\'Retirement & Planning\') + ul li a,ul.nav-list li a:contains(\'Retirement & Planning\')\",\r\n                        \'area\' : \'subNav\',\r\n                        \'clicked\' : \'retirementPlanning\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"ul.nav-list li a:contains(\'Why Choose Schwab\') + ul li a,ul.nav-list li a:contains(\'Why Choose Schwab\')\",\r\n                        \'area\' : \'subNav\',\r\n                        \'clicked\' : \'whyChooseSchwab\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'div.login-container a\',\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'login\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'a.schwab-hero\',\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'main\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"div.grid-col a:contains(\'Why Schwab\'),#bbiDiv2 a\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'whySchwab\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'a.core-grey.grid-banner-pos-5.grid-col-divider.p-jr-left\',\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'schwabMobile\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'a.p-center-hero\',\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'investingIdeas\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"a.client-review-mod\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'clientReviews\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"div.get-started a\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'openAccount\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"p.market-extras a:contains(\'Daily Market Reports\')\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'marketDaily\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"p.market-extras a:contains(\'Perspective\')\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'marketSchwabPerspective\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"div.need-help a:contains(\'Send us an email\')\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'helpSendEmail\'\r\n                    },\r\n                    {\r\n                        \'selector\':\"div.need-help a:contains(\'Find a branch near you\')\",\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'helpFindBranch\'\r\n                    },\r\n                    {\r\n                        \'selector\':\'div.schwab-news\',\r\n                        \'area\' : \'module\',\r\n                        \'clicked\' : \'newsCommentary\'\r\n                    }\r\n                ];\r\n\r\n                $.each(bbiMetric,function(index,metric){\r\n                    bbiClickTrack(metric.selector,metric.area, metric.clicked);\r\n                });\r\n\r\n\r\n        }); \/\/ end mboxFactoryDefault \r\n\r\n        bbi.debug(\'[Offer: Delivered!]\',\'green\');\r\n        bbi.hasTransformed = true;\r\n        bbi.terminate = true;\r\n    }\r\n    else {\r\n        bbi.debug(\'[Offer: NOT Delivered!]\',\'red\');\r\n        bbi.hasTransformed = false;\r\n    }\r\n}\r\n\r\n\/\/ eVar Code\r\nbbi.evarCode = function() {\r\nbbi.debug(\'[Evar: Attempting to fire eVar Code]\',\'#2a6777\');\r\n\r\n    if(bbi.evarFired === false) {\r\n        bbi.debug(\'[Evar: Code Executed]\',\'green\');\r\n\r\n        \/\/ Get eVar string and set\r\n        bbi.setEvar(bbi.getEvarString());\r\n\r\n        var getNCID = bbi.getNCID();\r\n        var recipeString = bbi.getRecipe();\r\n        \r\n        bbi.debug(\'[Evar: getNCID = \' + getNCID + \']\',\'red\');\r\n        bbi.debug(\'[Evar: recipeString = \' + recipeString + \']\',\'red\');\r\n        \r\n        \/\/ Set profile param Mbox only if it is needed\r\n        if(recipeString != \'\'){\r\n            \r\n            \/\/ Write mbox DIV to DOM\r\n            $(\"body\").prepend(\"<div id=\'bbMboxDiv\'><\/div>\");\r\n                    \r\n            \/\/Define param Mbox\r\n            mboxDefine(\'bbMboxDiv\', \'bb_param_mbox\');\r\n                    \r\n\r\n            var mboxParam1 = \'profile.bbi_ncid=\' + getNCID;\r\n            var mboxParam2 = \'profile.bbi_exp_list=\' + recipeString;\r\n            \r\n            bbi.debug(\'[Evar: mbox parameter = \' + mboxParam1 + \']\',\'blue\');\r\n            bbi.debug(\'[Evar: mbox parameter = \' + mboxParam2 + \']\',\'blue\');\r\n            \r\n            \/\/ Send profile parameters\r\n            mboxUpdate(\'bb_param_mbox\', mboxParam1, mboxParam2);\r\n            bbi.debug(\'[Evar: MboxUpdate Fired!]\',\'green\');\r\n        }\r\n        else {\r\n            bbi.debug(\'[Evar: MboxUpdate DID NOT Fire!]\',\'red\');    \r\n        }\r\n    }\r\n    else {\r\n        bbi.debug(\'[Evar: Already Fired]\',\'#2a6777\');\r\n    }\r\n}\r\n\r\n\/\/ Start attempting to deliver the offer\r\nbbi.start(bbi.instructions);\r\n\r\n\r\n<\/script>');document.write('<!-- Offer Id: 23384  --><script type=\"text\/javascript\">\r\n\/*T&T to SiteCat v3 ==>Response Plugin May2012*\/\r\nwindow.s_tnt=window.s_tnt||\'\',tntVal=\'165999:0:0,\';\r\nif(window.s_tnt.indexOf(tntVal)==-1){window.s_tnt+=tntVal}\r\n<\/script>');document.write('</div>');mboxCurrent.setEventTime('include.end');mboxFactories.get('default').get('prospect_phome',0).loaded();mboxFactories.get('default').getPCId().forceId("1389301906953-62835.25_27");