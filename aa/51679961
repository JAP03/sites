PHTTP
23.0.61.41"ý
DGET /apps/common/js/jquery/aacom/utilities/aaUtilities.js HTTP/1.1
Host: www.aa.com
Connection: keep-alive
Accept: */*
vUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36
(Referer: http://www.aa.com/homePage.do
$Accept-Encoding: gzip,deflate,sdch
!Accept-Language: en-US,en;q=0.8
ˆCookie: v1st=7EA5FF02354CAF63; JSESSIONID=4C0F4AAF1B0090AFE3A5001E623C1AE7; dtCookie=06F4BF3512EFE0A6C157596C94C19D9F|AA.com|1; ROUTEID=.P111A01; homeAirport="wGFH1cxVqs0="; COUNTRY_CODE="UCKRRdXdz9w="; saleCity="wGFH1cxVqs0="; dtPC=5312511_627#_load_; AX42=CT-1

*Ð\
HTTP/1.1 200 OK
Server: Apache-Coyote/1.1
X-dynaTrace-JS-Agent: true
Accept-Ranges: bytes
ETag: W/"11538-1387316480000"
.Last-Modified: Tue, 17 Dec 2013 21:41:20 GMT
&Content-Type: application/javascript
Content-Length: 11538
%Date: Thu, 09 Jan 2014 01:28:20 GMT
Connection: keep-alive
”Z
var activeDialog="";var dialogArray={};function aa_Utilities(){this.aaDialog=function(name,attributes){return new aa_Utilities_Dialog(name,attributes);};this.aaFormat=new aa_Utilities_Format;}function aa_Utilities_Dialog(dialog,props){var self=this;var dialogObj="",dialogName="";if(dialog!=undefined){if(typeof(dialog)=="object"){if(dialog.attr("id")!=undefined){dialogObj="#"+dialog.attr("id");dialogName=dialog.attr("id");}}else{if(typeof(dialog)=="string"){if(dialog.indexOf("#")==0){dialogObj=dialog;dialogName=dialog.replace(/#/,"");}else{dialogObj="#"+dialog+"Dialog";dialogName=dialog;}}}}var dialogObjTitle="#"+dialogName+"Title";var dialogLink=".aa-dialog-"+dialogName;var wrapperClass="aa-dialog-content-wrapper";self.version=1;self.initDialog=function(){props=(props!=undefined)?props:{};props.width=(props.width!=undefined)?props.width:882;props.height=(props.height!=undefined)?props.height:"auto";props.maxHeight=(props.maxHeight!=undefined)?props.maxHeight:600;props.minHeight=(props.minHeight!=undefined)?props.minHeight:150;props.modal=(props.modal!=undefined)?props.modal:true;props.overlay=(props.overlay!=undefined)?props.overlay:true;props.showClose=(props.showClose!=undefined)?props.showClose:true;props.showScroll=(props.showScroll!=undefined)?props.showScroll:true;props.showTitle=(props.showTitle!=undefined)?props.showTitle:true;props.quickflip=(props.quickflip!=undefined)?props.quickflip:false;props.buttons=(props.buttons!=undefined)?props.buttons:[];props.toggleScroll=(props.toggleScroll!=undefined)?props.toggleScroll:false;props.zIndex=(props.zIndex!=undefined)?props.zIndex:1000;props.closeOnEscape=(props.closeOnEscape!=undefined)?props.closeOnEscape:true;props.title=(props.title!=undefined)?props.title:jQuery(dialogObjTitle).val();dialogArray[dialogObj]=props;var resizable=(props.modal)?false:false;var draggable=(props.modal)?false:true;jQuery(dialogObj).addClass("aa-dialog-content-pad");jQuery(dialogObj).html('<div class="'+wrapperClass+'">'+jQuery(dialogObj).html()+"</div>");if(props.quickflip){jQuery(dialogObj+" .quickFlip-wrapper").css({width:props.width-60,height:"auto"});jQuery(dialogObj+" .quickFlip-wrapper").quickFlip({noResize:true});jQuery(dialogObj+" .quickFlip-firstPanel").live("click",function(){setFlipPanel(0,true);return false;});jQuery(dialogObj+" .quickFlip-secondPanel").live("click",function(){setFlipPanel(1,true);return false;});jQuery(dialogObj+" .quickFlip-thirdPanel").live("click",function(){setFlipPanel(2,true);return false;});}jQuery(dialogObj).dialog({autoOpen:false,modal:props.modal,draggable:draggable,resizable:resizable,bgiframe:true,title:props.title,width:props.width,height:props.height,maxHeight:props.maxHeight,minHeight:props.minHeight,zIndex:props.zIndex,closeOnEscape:props.closeOnEscape});if(props.buttons.length>0){var btnsArray={};var btnsClass="jQuery(dialogObj).dialog('widget').find('.ui-dialog-buttonpane button')";var btnsClick=btnsClass;for(var i=0;i<props.buttons.length;i++){var btn=props.buttons[i];btn.name=(btn.name!=undefined)?btn.name:"OK";btn.callback=(btn.callback!=undefined)?btn.callback:function(){};btn.cssClass=(btn.cssClass!=undefined)?btn.cssClass:"aa-btn-primary";btn.closeDialog=(btn.closeDialog!=undefined)?btn.closeDialog:true;btn.hideOnpanel=(btn.hideOnpanel!=undefined)?","+btn.hideOnpanel+",":"";btnsArray[btn.name]=btn.callback;btnsClass+=".eq("+i+").attr('class', 'aa-btn "+btn.cssClass+"').hover(function(){jQuery(this).removeClass('ui-state-hover')}).focus(function(){jQuery(this).removeClass('ui-state-focus')}).mousedown(function(){jQuery(this).removeClass('ui-state-active')}).end()";if(btn.closeDialog==true){btnsClick+=".eq("+i+").click(function(){jQuery(dialogObj).dialog('close'); return false;}).end()";}}jQuery(dialogObj).dialog("option","buttons",btnsArray);eval(btnsClick);eval(btnsClass);}if(props.toggleScroll){jQuery(dialogObj).bind("dialogopen",function(event,ui){jQuery("body").css("overflow","hidden");});jQuery(dialogObj).bind("dialogclose",function(event,ui){jQuery("body").css("overflow","auto");});}jQuery(dialogLink).live("click",function(){self.openDialog();return false;});};self.openDialog=function(){if(dialogObj.length<=0){return false;}if(activeDialog!=""&&activeDialog!=dialogObj){if(jQuery(activeDialog).dialog("isOpen")){jQuery(activeDialog).dialog("close");}}activeDialog=dialogObj;resizeDialog();jQuery(dialogObj).dialog("close");jQuery(dialogObj).parent().css("position","fixed");jQuery(dialogObj).css("position","relative");jQuery(dialogObj).dialog("option","position","center");jQuery(dialogObj).dialog("open");if(props.quickflip){if(jQuery(this).hasClass("quickFlip-secondPanel")){setFlipPanel(1,false);}else{if(jQuery(this).hasClass("quickFlip-thirdPanel")){setFlipPanel(2,false);}else{setFlipPanel(0,false);}}}if(!props.overlay){jQuery(".ui-widget-overlay").css("background","none");}if(props.showClose!=null&&!props.showClose){jQuery(dialogObj).parents(".ui-dialog:first").find(".ui-dialog-titlebar-close").remove();}if(props.showTitle!=null&&!props.showTitle){jQuery(dialogObj).parents(".ui-dialog:first").find(".ui-dialog-titlebar").remove();}jQuery(window).resize(function(){resizeDialog();jQuery(dialogObj).dialog("option","position","center");});jQuery(dialogObj).scrollTop(0);};self.closeDialog=function(){if(dialogObj.length<=0){return false;}if(jQuery(dialogObj).dialog("isOpen")){jQuery(dialogObj).dialog("close");}};var resizeDialog=function(){if(activeDialog.length<=0){return false;}var activeDialProps=dialogArray[activeDialog];var newHeight=activeDialProps.height;var newWidth=activeDialProps.width;var paddingTop=parseInt(jQuery(activeDialog).css("padding-top"));var paddingBottom=parseInt(jQuery(activeDialog).css("padding-bottom"));var paddingLeft=parseInt(jQuery(activeDialog).css("padding-left"));var paddingRight=parseInt(jQuery(activeDialog).css("padding-right"));if(newHeight!="auto"){newHeight-=41;if(activeDialProps.buttons.length>0){newHeight-=50;}newHeight-=paddingTop+paddingBottom;}jQuery(activeDialog).css("height",newHeight);jQuery(activeDialog).css("max-height",activeDialProps.maxHeight);if(jQuery(window).height()<=jQuery(activeDialog).parent().height()){var totalHeight=jQuery(window).height()-41;totalHeight-=paddingTop+paddingBottom;jQuery(activeDialog).css("height",totalHeight*0.9);jQuery(activeDialog).css("max-height",totalHeight*0.8);}jQuery(activeDialog).css("width","auto");jQuery(activeDialog).css("max-width",activeDialProps.width);jQuery(activeDialog+" ."+wrapperClass).css({"padding-right":0,position:"relative"});jQuery(activeDialog).parent().css("width",activeDialProps.width);jQuery(activeDialog).parent().css("max-width",activeDialProps.width);if(jQuery(window).width()<=jQuery(activeDialog).parent().width()){newWidth-=paddingLeft+paddingRight;jQuery(activeDialog+" ."+wrapperClass).css({width:newWidth,"padding-right":paddingRight,position:"relative"});jQuery(activeDialog).parent().css("width",jQuery(window).width()*0.9);jQuery(activeDialog).parent().css("max-width",jQuery(window).width()*0.9);}};var setFlipPanel=function(index,animation){if(activeDialog.length<=0){return false;}var activeDialProps=dialogArray[activeDialog];var panelHeight=activeDialProps.height;if(index==0){panelHeight=jQuery(activeDialog).height()-jQuery(activeDialog+" .quickFlip-wrapper .first-flipPanel").height();}else{if(index==1){panelHeight=jQuery(activeDialog).height()-jQuery(activeDialog+" .quickFlip-wrapper .second-flipPanel").height();}else{if(index==2){panelHeight=jQuery(activeDialog).height()-jQuery(activeDialog+" .quickFlip-wrapper .third-flipPanel").height();}}}var flipSpeed=(animation)?200:0;var flipWidth=(panelHeight>0)?activeDialProps.width-60:activeDialProps.width-77;jQuery(activeDialog+" .quickFlip-wrapper").css("width",flipWidth).css("height","auto");jQuery(activeDialog+" .quickFlip-wrapper").quickFlipper({noResize:true,closeSpeed:flipSpeed,openSpeed:flipSpeed,refresh:true,panelWidth:flipWidth},index);jQuery(activeDialog+" .quickFlip-wrapper .first-flipPanel").css({height:"auto","padding-bottom":"30px"});jQuery(activeDialog+" .quickFlip-wrapper .second-flipPanel").css({height:"auto","padding-bottom":"30px"});jQuery(activeDialog+" .quickFlip-wrapper .third-flipPanel").css({height:"auto","padding-bottom":"30px"});jQuery(activeDialog).scrollTop(0);if(activeDialProps.buttons.length>0){for(var i=0;i<activeDialProps.buttons.length;i++){jQuery(activeDialog).dialog("widget").find(".ui-dialog-buttonpane button").eq(i).show();if(activeDialProps.buttons[i].hideOnpanel.indexOf(","+index+",")>=0){jQuery(activeDialog).dialog("widget").find(".ui-dialog-buttonpane button").eq(i).hide();}}}};if(dialogObj.length<=0){return false;}if(jQuery(dialogObj).length<=0){return false;}if(dialogArray[dialogObj]!=undefined&&props==undefined){props=dialogArray[dialogObj];}else{self.initDialog();}}function aa_Utilities_Format(){var self=this;self.formatNumber=function(n,decimals,decimal_sep,thousands_sep){var c=isNaN(decimals)?2:Math.abs(decimals),d=decimal_sep||".",t=(typeof thousands_sep==="undefined")?",":thousands_sep,sign=(n<0)?"-":"",i=parseInt(n=Math.abs(n).toFixed(c))+"",j=((j=i.length)>3)?j%3:0;return sign+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"");};self.formatFare=function(number,options){options=(options!==undefined)?options:{};options.currency=(options.currency!==undefined)?options.currency.toUpperCase():null;options.locale=(options.locale!==undefined)?options.locale.toLowerCase():null;options.decimals=(options.decimals!==undefined)?((!isNaN(options.decimals))?Math.abs(options.decimals):null):null;options.displayCode=(options.displayCode!==undefined)?options.displayCode:false;options.displaySymbol=(options.displaySymbol!==undefined)?options.displaySymbol:true;var formatLike={US:{ds:".",ts:","},BR:{ds:",",ts:"."},FR:{ds:",",ts:" "},CH:{ds:".",ts:"'"}};var localeLike={US:["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],BR:["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],FR:["cz","fi","fr","ru","se","pl"],CH:["ch"]};var currencies={USD:{code:"USD",sym:"$",fmt:formatLike.US,dec:2},CAD:{code:"CAD",sym:"$",fmt:formatLike.US,dec:2},MXN:{code:"MXN",sym:"$",fmt:formatLike.US,dec:2},GBP:{code:"",sym:"&pound;",fmt:formatLike.US,dec:2},JPY:{code:"JPY",sym:"&yen;",fmt:formatLike.US,dec:2},COP:{code:"COP",sym:"$",fmt:formatLike.BR,dec:2},VEF:{code:"VEF",sym:"Bs.",fmt:formatLike.BR,dec:2},BRL:{code:"BRL",sym:"R$",fmt:formatLike.BR,dec:2},EUR:{code:"EUR",sym:"&euro;",fmt:formatLike.BR,dec:2},CLP:{code:"CLP",sym:"$",fmt:formatLike.BR,dec:0},NA:{code:"",sym:"$",fmt:formatLike.US,dec:2}};if(options.locale!==null){var localeKey="";for(var key in localeLike){var obj=localeLike[key];if(localeKey!==""){break;}if(!localeLike.hasOwnProperty(key)){continue;}if(typeof(obj)!="object"&&typeof(obj.length)!="number"){continue;}for(var z=0;z<obj.length;z++){if(options.locale===obj[z]){localeKey=key;currencies.NA.fmt=formatLike[localeKey];break;}}}}var curr;if(options.currency!==null){curr=currencies[options.currency];}else{if(options.locale!==null){curr=currencies.NA;}}if(curr===undefined){curr=currencies.USD;}if(options.decimals!==null){curr.dec=options.decimals;}if(options.displayCode!==true){curr.code="";}if(options.displaySymbol!==true){curr.sym="";}var result="%s%n %c";result=result.replace(/%s/g,curr.sym);result=result.replace(/%c/g,curr.code);result=result.replace(/%n/g,self.formatNumber(number,curr.dec,curr.fmt.ds,curr.fmt.ts));result=result.replace(/^\s+|\s+$/g,"");return result;};}