PHTTP
18.7.20.69"ไ
2GET /scripts/wui.global.min.js?v=1.3.14 HTTP/1.1
Host: script.wxug.com
Connection: keep-alive
Accept: */*
vUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36
'Referer: http://www.wunderground.com/
$Accept-Encoding: gzip,deflate,sdch
!Accept-Language: en-US,en;q=0.8

*็บ
HTTP/1.1 200 OK
.Last-Modified: Tue, 04 Mar 2014 23:08:40 GMT
(Server: Apache/1.3.42 (Unix) PHP/5.3.2
Accept-Ranges: bytes
Content-Length: 89101
(Content-Type: application/x-javascript
Cache-Control: max-age=579980
(Expires: Tue, 15 Apr 2014 15:42:45 GMT
%Date: Tue, 08 Apr 2014 22:36:25 GMT
Connection: keep-alive
ธ
var wui={};String.prototype.titlizer=function(a){var c=/^(a|an|and|as|at|but|by|en|for|if|in|of|on|or|the|to|vs?\.?|via)$/i;var b=/^(ap|WSO|NE|NW|SW|SE|NNE|ENE|NNW|WNW|SSW|WSW|SSE|ESE)$/i;return this.replace(/([^\W_]+[^\s-]*) */g,function(e,g,d,f){if(d>0&&d+g.length!==f.length&&g.search(c)>-1&&f.charAt(d-2)!==":"&&f.charAt(d-1).search(/[^\s-]/)<0){return e.toLowerCase()}if(g.substr(1).search(/[A-Z]|\../)>-1){if(a!==1){if(g.search(b)>-1){return e.toUpperCase()}return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}else{return e}}return e.charAt(0).toUpperCase()+e.substr(1)})};wui.global=this;(function(a,b){a.defined=function(d){return(typeof d!="undefined")};a.arrayContains=function(e,d){return(b.inArray(e,d)>-1)};var c={};a.toggleVisibility=function(h,g){var g=b.extend(true,{},{group_id:"0",surpressSelf:false},g);if(!(g.group_id in c)){c[g.group_id]=[]}var j=c[g.group_id];if(b.inArray(h,j)<0){j.push(h)}for(var f=0;f<j.length;f++){var d=j[f];var e=b("#"+d);if(!e[0]){continue}else{if(d===h){if(g.skipSelf){}else{e.toggleClass("none")}}else{e.addClass("none")}}}};a.centerInWindow=function(g){var h=b(g);if(!h[0]){return}h.css({position:"absolute",top:0,left:0});var k=false;if(h.hasClass("none")){k=true;h.removeClass("none")}var e=h.outerWidth();var j=h.outerHeight();if(k){h.addClass("none")}var d=b(window).width();var m=b(window).height();var l=(m-j)/2;var f=(d-e)/2;h.css({top:l,left:f})};a.dropdown=function(d){this.options=b.extend(true,{selectorButton:null,selectorMenu:null,position:{my:"left top",at:"left bottom",of:null,offset:"0 0",collision:"none none"},delay:100,hoverClass:null},d?d:{});this.options.position.of=this.options.selectorButton;var e=b(this.options.selectorButton);var f=b(this.options.selectorMenu);b.data(f,"hover",false);var d=this.options;e.mouseenter(function(g){f.stop(true).show();e.addClass(d.hoverClass);f.addClass(d.hoverClass);if(!b.data(f,"hover")){f.css({position:"absolute",top:"0px",left:"0px","z-index":1000});f.position(d.position)}if(window.StickerPopUp){StickerPopUp.forceHide()}}).mouseleave(function(g){f.delay(d.delay).hide(0);e.removeClass(d.hoverClass);f.removeClass(d.hoverClass)});f.mouseenter(function(g){b.data(f,"hover",true);e.mouseenter()}).mouseleave(function(g){b.data(f,"hover",false);e.mouseleave()})};a.wuForm=function(e,g){var g=b.extend(true,{classNames:{selected:"selected"},selectors:{container:"label",checkbox:".wuCheckbox",radio:".wuRadio"}},g);var f=b(e);function d(m,k){if(m.is("input[type=checkbox]")&&m.siblings(g.selectors.checkbox).length>0){var n=m.is(":checked");var j=m.closest(g.selectors.container);j.toggleClass(g.classNames.selected,n)}if(m.is("input[type=radio]")&&m.siblings(g.selectors.radio).length>0){if(k===true){var l=m.attr("name");var h=f.find("input[type=radio][name="+l+"]")}else{var h=m}h.each(function(p){var r=b(this);if(r.siblings(g.selectors.radio).length>0){var q=r.is(":checked");var o=r.closest(g.selectors.container);o.toggleClass(g.classNames.selected,q)}})}}f.on("click","input",function(j){var h=b(j.target);d(h,true)});f.find("input").each(function(h){d(b(this),false)})};b(document).ready(function(){b("#optionBar").mouseenter(function(d){b("#pageHeader").addClass("headerOver").removeClass("headerOff")}).mouseleave(function(d){b("#pageHeader").addClass("headerOff").removeClass("headerOver")});b("#picCred").mouseenter(function(d){b("#geoData").fadeTo("slow",0)}).mouseleave(function(d){b("#geoData").fadeTo("slow",1)});new a.dropdown({selectorButton:"#socialMore",selectorMenu:"#socialList",position:{my:"right top",at:"right bottom"},hoverClass:"hover",delay:0});new a.dropdown({selectorButton:"#userID",selectorMenu:"#quickMenuDropdown",position:{my:"left top",at:"left bottom",offset:"-11 0"},hoverClass:"hover",delay:0});new a.dropdown({selectorButton:"#conds_details_radar .imageContain",selectorMenu:"#radar_overlay",position:{my:"center center",at:"center center"},delay:0});new a.dropdown({selectorButton:"#wximage_img",selectorMenu:"#wximage_overlay",position:{my:"center center",at:"center center"},delay:0});if(b.browser.msie&&(parseFloat(b.browser.version)<8||(document.documentMode&&document.documentMode==7))){b("#featureMenu .featureGroup .fullList").css("margin-top",-2)}b("#comments .text .postContent IMG").each(function(f){var e=b(this);e.css("max-width",501);var g=500;var d=e.width();if(d>g){e.width(g)}e.bind("load",function(j){var h=e.width();if(h>g){e.width(g)}})})});if(b.tablesorter){b.tablesorter.addParser({id:"englishNumber",is:function(d,e){return false},format:function(d){return b.tablesorter.formatFloat(d.replace(new RegExp(/[,]/g),""))},type:"numeric"})}})(wui,jQuery);(function(a,b){a.geolocation=function(){if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(c)}function c(d){var f=d.coords.latitude;var g=d.coords.longitude;if(a.geolocation.getURL){var e=a.geolocation.getURL(f,g);if(e.length>1){window.location=e}}else{window.location.search="query="+f+","+g}}}})(wui,jQuery);(function(a,c){var b={};a.log=function(d){a.log.write(d)};a.log.initialize=function(){b.container=c("<div></div>").addClass("wui-log").appendTo(document.body).css({position:"absolute",bottom:"1em",left:"1em"});b.container_head=c("<div></div>").addClass("wui-log-head").appendTo(b.container).html("wui.log");b.container_body=c("<div></div>").addClass("wui-log-body").appendTo(b.container);b.container_table=c('<table cellspacing="0" cellpadding="0"></table>').appendTo(b.container_body);b.container_thead=c("<thead></thead>").appendTo(b.container_table);b.container_tbody=c("<tbody></tbody>").appendTo(b.container_table);var d=c("<a></a>").addClass("wui-log-close").appendTo(b.container_head).html("X");d.attr("href","javascript:void(0);");d.click(function(f){f.preventDefault();a.log.remove()});b.container.draggable({handle:b.container_head});b.initialized=true};a.log.write=function(g){if(!b.initialized){a.log.initialize()}var e=new Date();var d=((e.getMilliseconds()/1000).toFixed(3)+"").substr(2);var f='<tr class="wui-log-row"><td class="wui-log-time">'+e.toLocaleTimeString()+"."+d+"</td><td>"+g+"</td></tr>";b.container_tbody.append(f);var h=b.container_body[0].scrollHeight;b.container_body.scrollTop(h)};a.log.console=function(){var f=new Date();var e=((f.getMilliseconds()/1000).toFixed(3)+"").substr(2);var d=f.toLocaleTimeString()+"."+e};a.log.remove=function(){b.container.remove();b.initialized=false}})(wui,jQuery);(function(a,b){var c={};a.history={};a.history.toQueryString=function(){var g="#";var d=[];for(var e in c){if(c.hasOwnProperty(e)){var f=c[e];d.push(e+"="+encodeURIComponent(f))}}if(d.length>0){g+="?"+d.join("&")}return g};a.history.setKey=function(d,e){c[d]=e};a.history.getKey=function(d){return c[d]};a.history.replace=function(){var d=a.history.toQueryString();window.location.replace(d)};a.history.update=function(){var d=a.history.toQueryString();window.location=d};a.history.parse=function(){var j=window.location.hash;if(j.length>2&&j.charAt(0)=="#"&&j.charAt(1)=="?"){j=j.substr(2);var d=j.split("&");for(var f=0;f<d.length;f++){var g=d[f].split("=",2);var e=g[0];var h=decodeURIComponent(g[1]);c[e]=h}}};a.history.parse()})(wui,jQuery);(function(b,d){var c={activeClass:"active",disabledClass:"disabled",items:".fav-item",scroll:{},sortable:{},home:{}};b.favorites={};b.favorites.add=function(e,f){b.favorites._modify(e,"addfavorite",null,f)};b.favorites.del=function(e,f){b.favorites._modify(e,"delfavorite",null,f)};b.favorites.toggle=function(e,f){var h=d(f).hasClass(c.activeClass);var g=(h)?"delfavorite":"addfavorite";b.favorites._modify(e,g,f)};b.favorites._modify=function(e,j,g,h){var f="/favorites/submit.html?"+d.param(d.extend({action:j,place:e,conditions:false},h));if(document.domain.indexOf(".wunderground.com")<0){f="http://www.wunderground.com"+f}var g=d(g);d(this).triggerHandler("beforechange",[e,j]);d.ajax({url:f,type:"get",dataType:"jsonp",jsonp:"jsonp",success:function(l){var n="Error";var k=l.RESULTS||l;if(k.indexOf(n.toLowerCase())>=0){alert(k)}else{if(g[0]){var m=g.hasClass(c.activeClass);if(m){g.removeClass(c.activeClass)}else{g.addClass(c.activeClass)}}}if(l.location){b.favorites.items.add(l.location)}d(b.favorites).triggerHandler("change",[e,j,l.location])},error:function(k){alert("Error: wui.favorites ajax request failed")}})};b.favorites._getActiveIndex=function(){var f=d(c.items);for(var e=0;e<f.length;e++){if(f.eq(e).hasClass(c.activeClass)){return e}}return -1};b.favorites.next=function(){var e=b.favorites._getActiveIndex();b.favorites.go(e+1)};b.favorites.prev=function(){var e=b.favorites._getActiveIndex();b.favorites.go(e-1)};b.favorites.go=function(e){var g=d(c.items);if(e<0){e=g.length-1}if(e>=g.length){e=0}var f=g.eq(e);if(f[0]){window.location=f.attr("href")}};b.favorites.scroll={};b.favorites.scroll.left=function(){b.favorites.scroll.calculateIndex();if(c.scroll.index>0){b.favorites.scroll.go(c.scroll.index-3)}};b.favorites.scroll.right=function(){b.favorites.scroll.calculateIndex();var e=c.scroll.items;if(c.scroll.index<e.length-1){b.favorites.scroll.go(c.scroll.index+3)}};b.favorites.scroll.snap=function(){b.favorites.scroll.calculateIndex();b.favorites.scroll.go(c.scroll.index)};b.favorites.scroll.go=function(e){if(e<0){e=0}else{if(e>c.scroll.items.length-1){e=c.scroll.items.length-1}}var f=c.scroll.items.eq(e);if(!f.is(":visible")){c.scroll.index++;b.favorites.scroll.go(c.scroll.index);return}var g=f.position().left+c.scroll.container.scrollLeft();c.scroll.container.animate({scrollLeft:g},{duration:"slow",complete:function(){b.favorites.scroll.setButtons()}})};b.favorites.scroll.calculateIndex=function(){var e=c.scroll.items;for(var f=0;f<e.length;f++){if(e.eq(f).position().left+e.eq(f).width()/2>=0){c.scroll.index=f;break}}};b.favorites.scroll.setButtons=function(){var e=c.scroll.items;var g=e.eq(0);var f=e.eq(-1);if(!g[0]||g.position().left>=0){c.scroll.leftButton.addClass(c.disabledClass)}else{c.scroll.leftButton.removeClass(c.disabledClass)}if(!f[0]||f.position().left+f.width()<=c.scroll.container.width()){c.scroll.rightButton.addClass(c.disabledClass)}else{c.scroll.rightButton.removeClass(c.disabledClass)}};b.favorites.scroll.initialize=function(){c.scroll={index:0,bar:d("#favoritesBar"),container:d("#favoritesBar .favoritesScrollContainer"),items:d("#favoritesBar .favoritesItem"),leftButton:d("#favoritesBar .favoritesScrollLeft"),rightButton:d("#favoritesBar .favoritesScrollRight"),allButtons:d("#favoritesBar .favoritesScrollButtons"),title:d("#favoritesBar .favoritesTitle")};if(d.browser.msie&&parseInt(d.browser.version.charAt(0))<7){var g=829;var j=c.scroll.title.outerWidth();var h=c.scroll.allButtons.outerWidth();var f=g-j-h;c.scroll.container.width(f)}b.favorites.scroll.setButtons();var e=c.scroll.container;e.mousedown(function(k){d(this).data("down",true).data("x",k.clientX).data("scrollLeft",this.scrollLeft);d(window).bind("mousemove.favorites",function(l){if(e.data("down")==true){e[0].scrollLeft=e.data("scrollLeft")+e.data("x")-l.clientX}});if(k.which===1){k.preventDefault()}d(window).one("mouseup.favorites",function(l){d(window).unbind("mousemove.favorites");if(e.data("down")==true){b.favorites.scroll.snap();b.favorites.scroll.setButtons()}e.data("down",false)})}).click(function(k){if(e.data("scrollLeft")!=e[0].scrollLeft){k.preventDefault()}})};b.favorites.scroll.load=function(f,j){var g=decodeURIComponent(f);var o=g.split(",");var l=j;if(l=="//"){l="/a/"}if(h(o)){var e="<div class='noFavs'>You don't appear to have any favorites yet, or your cookies may be disabled.</div>";d(".loadFavs").css("display","none");d(".favoritesScroll").css("display","none");d(".favoritesScrollContainer").append(e);return}d(".favoritesScrollButtons").css("visibility","hidden");var n=[];var k=[];d.each(o,function(v,r){if(r==""){return}var x=m(r);var p="http://api.wxug.com/api/ea5c64c3975ff6cd/conditions/alerts/q/";var q=".json?ttl=6000";var u=p+x+q;var t="cityFav"+v;var w=_.template(d("#cellTemplate").html(),{zmw:x,cityFavNum:t});d("#favoritesRow").append(w);k[x]={};n.push(d.ajax({url:u,dataType:"jsonp",timeout:10000,success:function(F,M){d(".loadFavs").css("display","none");d(".favoritesScroll").css("display","");var B=d("#"+t);var I=F.current_observation;if(I==undefined){B.remove();return}var E=I.temp_f,H=I.icon_url,L=I.weather,y=I.forecast_url,G=I.weather,K=I.display_location["latitude"],A=I.display_location["longitude"],z=I.icon,D=I.temperature_string;var C=H.replace("/k/",l);var J;if(I.display_location["zip"]=="00000"){J=I.display_location["city"]+", "+I.display_location["country"]}else{J=I.display_location["full"]}var N=F.alerts.length!==0;B.find(".favCity").html(J);B.find(".favTemp .b").html(E);B.find(".favTemp .nobr").append("&#176;F");B.find(".condIcon").attr("alt",G);B.find(".condIcon").attr("title",G);B.find(".condIcon").attr("src",C);B.find(".condIcon").css("display","");B.css("display","");k[x]={name:J,type:"favorite",lat:K,lon:A,zmw:x,condition:{temp:D,icon:z,iconPref:l[1],weather:G}};if(N){B.addClass("warnBG");B.find(".warnIcon").css("display","");if(v>=5){d(".favoritesScrollRight").addClass("orange")}}if(v>=5){d(".favoritesScrollRight").removeClass("disabled")}}}))});d.when.apply(d,n).then(function(){b.favorites.scroll.initialize();d(".favoritesScrollButtons").css("visibility","visible");var q=[];for(var r in k){q.push(k[r])}b.favorites.items.add(q);if(b&&b.autocomplete){var p=new b.autocomplete({appendTo:"#wuFormR",autosubmit:true,data:{ski:1,features:1},includeFavorites:true,includePWS:true,input:"#wuSearchR",minLength:0,showConditions:true,showFavoriteStars:true})}d("#wuSubmitR").click(function(){d("#wuFormR").submit()})});function m(v){var p=v.split(".");var r,u,q;if(p.length==3){r=p[0];u=p[1];q=p[2]}else{if(p[0]=="00000"){r="00000";u="1";q=p[1]}else{r=p[0];u=p[1];q="99999"}}var t=r+"."+u+"."+q;return t}function h(p){for(var q=0;q<p.length;q++){if(p[q]!=""){return false}}return true}};b.favorites.sortable={};b.favorites.sortable.initialize=function(){c.sortable={dragClass:"favMove",draggableClass:"favCursorMove",loadingClass:"ajax-loading",deleteButtonClass:"deleteButton",index:0,list:d("#favorites-list"),items:d("#favorites-list li"),log:d("#log")};c.sortable.list.sortable({axis:"y",containment:c.sortable.list,distance:3,tolerance:"pointer",start:function(e,f){f.item.addClass(c.sortable.dragClass)},stop:function(e,f){f.item.removeClass(c.sortable.dragClass)},update:function(e,f){b.favorites.sortable.submit()}});c.sortable.items.each(function(e,f){b.favorites.sortable.setupItem(d(f))})};b.favorites.sortable.createItem=function(g,e){var f=d("<li></li>").attr("id",g).html(e);f.hide();f.appendTo(c.sortable.list);b.favorites.sortable.setupItem(f);f.fadeIn(2000);return f};b.favorites.sortable.setupItem=function(f){f.addClass(c.sortable.draggableClass);var e=d("<span></span>").addClass(c.sortable.deleteButtonClass);e.click(function(){d(f).remove();b.favorites.sortable.refresh();b.favorites.sortable.submit()});f.append(e)};b.favorites.sortable.refresh=function(){c.sortable.list.sortable("refresh")};b.favorites.sortable.submit=function(){var e="/favorites/submit.html";var f=","+c.sortable.list.sortable("toArray").join(",");b.favorites.sortable.setLoading(true,null,0);d.ajax({url:e,type:"post",data:{action:"reorderfavorites",order:f},dataType:"html",success:function(g){b.favorites.sortable.setLoading(false,g,3000)},error:function(g){var h="Error: wui.favorites.sortable ajax request failed";b.favorites.sortable.setLoading(false,h,0)}})};b.favorites.sortable.setLoading=function(g,h,e){var f=c.sortable.log;if(g==true){f.empty().addClass(c.sortable.loadingClass)}else{f.empty().removeClass(c.sortable.loadingClass)}if(h){f.html(h)}if(e){window.setTimeout(function(){f.empty()},e)}};b.favorites.home=function(e,f){c.home={activeClass:"active",inactiveClass:""};b.favorites.home._modify(e,f)};b.favorites.home.toggle=function(e,g,f,j){if(f||f===""){c.home.activeClass=f}if(j||j===""){c.home.inactiveClass=j}var h=d(g).hasClass(c.home.activeClass);if(h){e=""}b.favorites.home._modify(e,g)};b.favorites.home._modify=function(e,f){var f=d(f);d.ajax({url:"/auto/wui/geo/PrefDump/index.html?setprefs.0.key=USERHOME&setprefs.0.val="+e,type:"get",dataType:"html",success:function(g){if(f){if(f.hasClass(c.home.activeClass)==true){f.removeClass(c.home.activeClass).addClass(c.home.inactiveClass)}else{f.addClass(c.home.activeClass).removeClass(c.home.inactiveClass)}}},error:function(g){alert("Error: wui.favorites.home ajax request failed")}})};b.favorites.items={_list:[],add:function(e){if(d.isArray(e)){this._list=this._list.concat(e)}else{this._list.push(e)}},remove:function(f,g){var e=this.indexOf(f,g);if(e>-1){this._list.splice(e,1)}},empty:function(){this._list=[]},find:function(f,g){var e=this.indexOf(f,g);if(e>-1){return this._list[e]}else{return null}},getList:function(){return this._list},indexOf:function(e,g){var f=this.indicesOf(e,g);if(f.length){return f[0]}else{return -1}},indicesOf:function(e,g){var f=d.map(this._list,function(j,h){if(!j){return null}else{if(j[e]===g){return h}else{return null}}});return f},is:function(f){var e=this.indexOf("zmw",f);return(e>-1)}};var a={options:{eventName:"click",classNames:{selected:"active",star:"favorite-star"}},check:function(g){var f=a.options;var h=g.attr("data-zmw");var e=b.favorites.items.is(h);g.toggleClass(f.classNames.selected,!!e)},disable:function(g){var f=a.options;if(!g){g=d(document)}var e="."+f.classNames.star;g.off(f.eventName,e,a.onClick)},enable:function(g){var f=a.options;if(!g){g=d(document)}var e="."+f.classNames.star;g.on(f.eventName,e,a.onClick)},initialize:function(e){a.options=d.extend(true,a.options,e);a.scan();a.disable();a.enable()},onClick:function(){var f=a.options;var j=f.classNames;var g=d(this);var h=g.attr("data-zmw");var e=b.favorites.items.is(h);if(e){g.removeClass(j.selected);b.favorites.items.remove("zmw",h);b.favorites.del(h)}else{g.addClass(j.selected);b.favorites.add(h,{conditions:true})}},scan:function(g){var f=a.options;if(!g){g=d(document)}var e="."+f.classNames.star;g.find(e).each(function(){var h=d(this);a.check(h)})}};b.favorites.stars=a;d(document).ready(function(){b.favorites.sortable.initialize()})})(wui,jQuery);(function(b,c){var a=[];var d=false;b.stickyscroll={};b.stickyscroll.add=function(e){var f=c.extend(true,{elt:null,top:0,until:0,isPosFixed:false,isPosAbsolute:false,change:null},e?e:{});var g=parseFloat(f.elt.css("margin-top"))||0;f.originalTopOffset=f.elt.offset().top-f.top-g;if(f.until){f.originalBottomOffset=f.until-f.elt.outerHeight()}else{f.originalBottomOffset=c(document).height()-f.elt.outerHeight()-g}f.originalPosition=f.elt.css("position");f.originalTop=f.elt.css("top");a.push(f);b.stickyscroll.refresh()};b.stickyscroll.refresh=function(){if(!d&&a.length>0){d=true;c(window).bind("scroll.stickyscroll",function(){var e=c(window).scrollTop();for(var f=0;f<a.length;f++){var g=a[f];if(g.until>0&&e>g.originalBottomOffset){if(g.isPosAbsolute){continue}g.isPosFixed=false;g.isPosAbsolute=true;g.elt.css({position:"absolute",top:g.originalBottomOffset});if(g.change){g.change.call(g.elt,2,"absolute")}}else{if(e>g.originalTopOffset){if(g.isPosFixed){continue}g.isPosFixed=true;g.isPosAbsolute=false;g.elt.css({position:"fixed",top:g.top});if(g.change){g.change.call(g.elt,1,"fixed")}}else{if(e<g.originalTopOffset){if(!g.isPosFixed&&!g.isPosAbsolute){continue}g.isPosFixed=false;g.isPosAbsolute=false;g.elt.css({position:g.originalPosition,top:g.originalTop});if(g.change){g.change.call(g.elt,0,g.originalPosition)}}}}}})}};b.stickyscroll.removeAll=function(){c(window).unbind("scroll.stickyscroll");a=[];d=false}})(wui,jQuery);(function(a,b){a.pushdown={};a.pushdown.enlarge=function(c){b("#bannerTop").css("overflow","hidden");if(!c){b("#bannerTop").height(418)}else{b("#bannerTop").height(c)}};a.pushdown.collapse=function(c,d){b("#bannerTop").css("overflow","hidden");if(!c){b("#bannerTop").height(66)}else{b("#bannerTop").height(c)}if(d!=1){b("#bannerTop").addClass("stopover")}};a.pushdown.enlargeWithTracking=function(e,d,c){b("#bannerTop").css("overflow","hidden");b("#bannerTop").append("<div id='"+e+"'><img src='"+d+"' border='0'></div>");if(!c){b("bannerTop").height(418)}else{b("bannerTop").height(c)}};a.pushdown.collapseWithTracking=function(d,c){b("#bannerTop").css("overflow","hidden");b("#bannerTop").find("#"+d).remove();if(!c){b("bannerTop").height(66)}else{b("bannerTop").height(c)}}})(wui,jQuery);(function(a,b){a.prefs={};a.prefs.set=function(d,e){var c={};c[d]=e;return a.prefs.setMany(c)};a.prefs.setMany=function(d){var e=0;var f={};for(var c in d){f["setprefs."+e+".key"]=c;f["setprefs."+e+".val"]=d[c];e++}b.ajax({url:"/auto/wui/geo/PrefDump/index.html",type:"POST",cache:false,data:f,dataType:"html",error:function(j,g,h){a.log("Error: failed to save preferences")}})}})(wui,jQuery);(function(a,c){var b={};a.fullscreen={active:false,supported:d()};a.fullscreen.enter=function(e){var e=e||document.documentElement;if(e.requestFullScreen){e.requestFullscreen()}else{if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else{if(e.webkitRequestFullScreen){e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}}};a.fullscreen.exit=function(){if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}}}}};a.fullscreen.isFullScreen=function(){return(document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen)?true:false};c(document).bind("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){a.fullscreen.active=a.fullscreen.isFullScreen()});function d(){var e=document.documentElement;return(("requestFullscreen" in e)||("mozRequestFullScreen" in e&&document.mozFullScreenEnabled)||("webkitRequestFullScreen" in e))?true:false}})(wui,jQuery);(function(b,c){function a(){var d=document.createElement("canvas");var e=!!(window.navigator.appVersion.indexOf("MSIE")>=0&&window.navigator.appName.indexOf("Internet Explorer")>=0);return !!(d.getContext&&d.getContext("2d")&&!e)}b.status={online:false,getOnline:function(){return !("navigator" in window&&window.navigator.onLine===false)},canvasSupported:a()};b.status.online=b.status.getOnline()})(wui,jQuery);wui.member={};wui.member.logged_in=function(){return jQuery("meta[name=wui-member-logged-in]").attr("content")==="true"};(function(b,c){b.numberWithCommas=function(d){var e=d.toString().split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return e.join(".")};var a={};b.setTimeout=function(f,e){var d=new Date();var g=window.setTimeout(f,e);a[g]={start:d.getTime(),end:d.getTime()+e,delay:e,poll:null};return g};b.clearTimeout=function(e){var d=a[e];if(!d){b.log("Error: unknown timeoutID: "+e);return}b.setTimeout.poll(e,false);window.clearTimeout(e);delete a[e]};b.setTimeout.poll=function(f,d,h){var e=a[f];if(!e){b.log("Error: unknown timeoutID: "+f);return}if(d===0||d===false){if(e.poll){window.clearInterval(e.poll);e.poll=null}return}var g=window.setInterval(function(){var k=new Date();var l=e.end-k.getTime();var j=k.getTime()-e.start;if(l>0){if(!h){h=b.setTimeout.log}h(l,j)}else{window.clearInterval(g);e.poll=null}},d);e.poll=g;return g};b.setTimeout.timeouts=a;b.setTimeout.log=function(e,d){b.log("time remaining: "+e+" ms")}})(wui,jQuery);(function(b,d){var e=null;var a=null;var c=null;var f=null;if(window.navigator.msPointerEnabled){e="mouseenter";a="mouseleave";c="click";f="click"}else{e="mouseenter";a="mouseleave";c="click";f="touchstart"}b.featuremenu=function(){var g=false;d("#featureMenu").bind(e,function(){g=true});d("#featureMenu").bind(a,function(){g=false});closefeedback=function(){if(g==false){d("#uberVoice").css("display","none")}};showfeedback=function(){d("#uberVoice").css("display","inline")};b.featuremenu.closemenus=function(){var h=new d.Deferred();d(".featureGroup","#featureMenu").each(function(){if(!d(this).hasClass("activetab")){d(this).removeClass("activeGroup")}d(".fullList",d(this)).addClass("menuHide").removeClass("menuShow")});closefeedback();h.resolve("Finished");return h.promise()};d("#uberVoice").bind(c,function(){b.featuremenu.closemenus();d("#uberVoice").css("display","none")});if(!window.navigator.msPointerEnabled){d(document).bind(c,function(){if(g==false){b.featuremenu.closemenus()}})}d(document).bind(f,function(h){if(d("#featureMenu").has(h.target).length==0){b.featuremenu.closemenus();d(".groupTitle").css("background-color","")}});d(".featureGroup","#featureMenu").each(function(){var j=d(this);var m=d(".groupTitle",d(this));var l=d(".fullList",d(this));var k=false;var n=null;var h=null;if(!d(this).hasClass("activeGroup")){k=true}else{d(this).addClass("activetab")}d(this).bind(e,function(){clearInterval(h);m.css("background-color","#EBEEF6");if(k){j.removeClass("activeGroup").addClass("activeGroup")}});m.bind(e,function(){var o=0;if(g==true){o=150}else{o=250}n=setInterval(function(){var p=b.featuremenu.closemenus();clearInterval(n);p.done(function(){l.removeClass("menuHide").addClass("menuShow");showfeedback();if(k){j.removeClass("activeGroup").addClass("activeGroup")}})},o)});d(this).bind(a,function(){var o=0;if(g==false){o=150}else{o=250}m.css("background-color","");clearInterval(n);if(k){j.removeClass("activeGroup")}h=setInterval(function(){clearInterval(h);l.addClass("menuHide").removeClass("menuShow");closefeedback()},o)});m.bind(c,function(p){if(l.hasClass("menuShow")){}else{p.preventDefault();var o=b.featuremenu.closemenus();o.done(function(){l.removeClass("menuHide").addClass("menuShow");if(k){j.addClass("activeGroup")}})}})})}})(wui,jQuery);(function(a,b){a.Analytics={prefix:"WUI_",debug:0,sendClickEvent:function(d,c,e){this.sendOmnitureClickEvent(d,c,e)},sendOmnitureClickEvent:function(e,d,f){if(s_pageAction&&s&&b.isFunction(s.tl)&&b.isFunction(s.t)){var c=this.prefix;if(e&&e.length>0){c+=e}if(d&&d.length>0){c+="_"+d}if(f===true){c+="_on"}if(f===false){c+="_off"}if(this.debug){console.log("Analytics tag: "+c)}else{s_pageAction(c)}}}}})(wui,jQuery);(function(a,b){a.tools={};a.tools.domainShardSuffix=function(g,f){var e=0;if(g.length==0){return e+1}for(var d=0;d<g.length;d++){var c=g.charCodeAt(d);e=((e<<5)-e)+c;e=e&e;if(e<0){e=-e}}return((parseInt(e)%f))+1}})(wui,jQuery);(function(a,c){var b={};a.autocomplete=function(d){this.options=c.extend(true,{input:null,appendTo:null,autosubmit:false,autoFocus:false,captureFormSubmit:false,className:"",classNames:{cityStar:"city-star",isFav:"is-fav",menu:""},data:{h:"1"},exclude:[],getItemContent:null,getItemTemplate:"script#autocomplete_item_template",includeFavorites:false,includePWS:false,includeRecents:true,isMainSearchBox:false,minLength:1,onBeforeSelect:c.noop,onOpen:c.noop,onSelect:c.noop,search:"",select:null,showConditions:false,showFavoriteStars:false,submitButton:null,suffix:c.noop,url:"",zipCodeOnly:false},d?d:{});this.input=c(this.options.input);this.select=c(this.options.select);this.hasSelect=(this.select&&this.select.length>0);this._cache=[];this._template=null;this.initialize()};a.autocomplete.prototype.initialize=function(){var e=this.input;var g=this.hasSelect;var f=this.options;var d=this;if(!e[0]){return}var h=null;if(f.getItemContent){h=f.getItemContent}else{if(f.showConditions||f.showFavoriteStars){h=this.getItemContent}}if(h){this._template=_.template(c(f.getItemTemplate).html())}this.input.autocomplete({source:function(l,k){var m=/^\d+$/.test(l.term.substr(0,5));if(f.zipCodeOnly&&!m){k(function(){return false})}else{if(l.term.length==0){var j=d.getFilteredItems(l);k(j)}else{c.ajax({url:f.url||a.autocomplete._config.url,dataType:"jsonp",jsonp:"cb",data:c.extend(true,{},{query:l.term},f.data),success:function(o){if(!o||!o.RESULTS){var n=d.getFilteredItems(l)}else{var n=d.getFilteredItems(l,o.RESULTS);d._cache=o.RESULTS}k(n)},error:function(){var n="Could not search for your location. Please check your internet connection and try again.";a.log(n)}})}}},search:function(k,l){d._cache=[];var j=c(this).autocomplete("option","disabled");if(j){return false}},select:function(k,l){if(l.item){var m=f.onBeforeSelect(k,this.value,l.item);if(m===false){return false}this.value=l.item.zip||l.item.value;if(g){this._updateSelectMenu(l.item.type)}if(f.submitButton){c(f.submitButton).unbind("click").click(function(){var n=l.item.zip||l.item.value;if(f.autosubmit==="localclimate"){window.location="/climate/local.html?query="+n}else{if(f.autosubmit==="sitewidealerts"){siteWideAlertsSubmit(n)}else{if(f.autosubmit==="extremes"){window.location="/climate/local_extremes.asp?query="+n}else{if(f.autosubmit==="form"){this.form.submit()}else{if(l.item.type=="pws"){window.location="/weatherstation/WXDailyHistory.asp?ID="+n.toUpperCase()}else{if(l.item.l){window.location=l.item.l}else{if(f.isMainSearchBox&&l.item.wmo){window.location="/global/stations/"+l.item.wmo+".html"}else{if(f.isMainSearchBox&&window.SubmitFastForecastSearch){window.SubmitFastForecastSearch()}else{this.form.submit()}}}}}}}}})}if(f.autosubmit){var j=l.item.zip||l.item.value;if(f.autosubmit==="localclimate"){window.location="/climate/local.html?query="+this.value}else{if(f.autosubmit==="sitewidealerts"){siteWideAlertsSubmit(j)}else{if(f.autosubmit==="extremes"){window.location="/climate/local_extremes.asp?query="+this.value}else{if(f.autosubmit==="form"){this.form.submit()}else{if(f.autosubmit==="formzmw"){e.val("zmw:"+l.item.zmw);this.form.submit()}else{if(l.item.type=="pws"){window.location="/weatherstation/WXDailyHistory.asp?ID="+this.value.toUpperCase()}else{if(l.item.l){window.location=l.item.l}else{if(f.isMainSearchBox&&l.item.wmo){window.location="/global/stations/"+l.item.wmo+".html"}else{if(f.isMainSearchBox&&window.SubmitFastForecastSearch){window.SubmitFastForecastSearch()}else{this.form.submit()}}}}}}}}}}f.onSelect(this.value,l.item)}},appendTo:f.appendTo,open:f.onOpen,minLength:f.minLength,autoFocus:f.autoFocus});this.input.data("autocomplete")._renderMenu=function(l,k){var j=this;var m="";c.each(k,function(o,p){if(p.type!=m){var n=a.autocomplete._config.groupTitles[p.type]||p.type;n=n.replace("_"," ");l.append("<li class='ui-autocomplete-group'>"+n+"</li>");m=p.type}j._renderItem(l,p)})};this.input.data("autocomplete")._renderItem=function(k,l){var m=null;if(h){var j=h(l,d._template,f);m=c(j)}else{m=c("<li></li>").append(c("<a></a>").html(l.label))}m.data("item.autocomplete",l).appendTo(k);return m};this.input.autocomplete("widget").addClass(f.className).addClass(f.classNames.menu);if(g){this.select.change(this._updateEnabledState);this._updateEnabledState()}if(f.captureFormSubmit){this.captureFormSubmit()}if(f.showFavoriteStars){this.setupFavoriteStars()}if(f.search){this.input.autocomplete("search",f.search)}else{if(this.input.is(":focus")){this.input.autocomplete("search")}}if(f.minLength===0){this.input.focus(function(){if(this.value.length==0){c(this).autocomplete("search")}})}};a.autocomplete.prototype.getFilteredItems=function(j,h){var e=[];var g=this.options;if(g.includeFavorites&&a.favorites.items){var d=a.favorites.items.getList();d=a.autocomplete.filter(d,j.term);e=e.concat(d)}if(g.includeRecents&&a.recents){var f=a.recents;f=a.autocomplete.filter(f,j.term);e=e.concat(f)}else{if(g.includeRecents){var f=a.autocomplete._config.items;f=a.autocomplete.filter(f,j.term);e=e.concat(f)}}if(h&&h.length){e=e.concat(h)}var k=c.map(e,function(p){var m=j.term.length;var n=p.name;var o=p.type;var r;if(!g.includePWS&&o=="pws"){return null}if(c.inArray(o,g.exclude)>=0){return null}if(g.zipCodeOnly){r=n.substr(0,5)}else{if(o=="pws"){r=n.split(",",1)[0]}else{if(o=="recent"){r=n}else{r=n}}}var t=g.suffix(r,p)||"";var q=c.extend(true,{},p,{label:'<span class="ui-autocomplete-term">'+n.substr(0,m)+"</span>"+n.substr(m)+t,value:r});return q});return k};a.autocomplete.prototype.destroy=function(){if(!this.input[0]){return}this.input.autocomplete("destroy")};a.autocomplete.prototype.captureFormSubmit=function(){var d=this.input;if(!this.input[0]){return}var e=c(this.input[0].form);e.submit(function(f){d.autocomplete("search",d.val());f.preventDefault()})};a.autocomplete.prototype._updateEnabledState=function(){var d=this.select.val().toLowerCase();if(d=="weather"||d=="pws"){this.input.autocomplete("option","disabled",false);a.autocomplete.setNative(this.input,false)}else{this.input.autocomplete("option","disabled",true);a.autocomplete.setNative(this.input,true)}};a.autocomplete.prototype._updateSelectMenu=function(d){if(d=="city"){this.select.val("WEATHER")}else{if(d=="pws"){this.select.val("PWS")}}};a.autocomplete.prototype.refresh=function(){var g=this.input.val();var f={term:g};var e=this.getFilteredItems(f,this._cache);var d=this.input.data("autocomplete");e=d._normalize(e);d._suggest(e)};a.autocomplete.prototype.getItemContent=function(g,f,d){var h=d.showFavoriteStars&&!!(g.zmw)&&(g.type!="country");var e=f({item:g,isCity:h,isFav:a.favorites.items.is(g.zmw),hasConds:(d.showConditions&&!!(g.condition))});return e};a.autocomplete.prototype.setupFavoriteStars=function(){var d=this;var e=this.input.autocomplete("widget");var f=this.options.classNames;e.on("click","."+f.cityStar,function(l){var j=e[0];var m=c(this).closest(".ui-menu-item",j);var k=m.data("item.autocomplete");if(!k){return false}var h=a.favorites.items.is(k.zmw);if(h){m.removeClass(f.isFav);a.favorites.items.remove("zmw",k.zmw);a.favorites.del(k.zmw)}else{m.addClass(f.isFav);var g=c.extend(true,{},k,{type:"favorite"});a.favorites.items.add(g);a.favorites.add(g.zmw)}d.refresh();return false})};a.autocomplete.setNative=function(d,e){if(e===false){d.addClass("ui-autocomplete-input").attr({autocomplete:"off",role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"})}else{if(e===true){d.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup")}}};a.autocomplete._config={items:[],groupTitles:{},url:"http://autocomplete.wunderground.com/aq"};a.autocomplete.addItems=function(d){a.autocomplete._config.items=a.autocomplete._config.items.concat(d)};a.autocomplete.setGroupTitles=function(d){a.autocomplete._config.groupTitles=d};a.autocomplete.setUrl=function(d){a.autocomplete._config.url=d};a.autocomplete.filter=function(f,d){var e=new RegExp("^"+c.ui.autocomplete.escapeRegex(d),"i");return c.grep(f,function(g){return e.test(g.name)})};c(document).ready(function(e){var d=new a.autocomplete({appendTo:(e("#wuForm")[0]?"#wuForm":null),input:"#wuSearch",select:"#wuSelect",autosubmit:true,isMainSearchBox:true,includePWS:true,data:{ski:1,features:1}})})})(wui,jQuery);(function(a,b){a.tooltip=function(c){this.options=b.extend(true,{button:null,position:{my:"center bottom",at:"center top",of:null,offset:"0 -14",collision:"none none"},arrow_position:null,content:null,delayShow:100,delayHide:100,id:null,nohoverClass:"tooltip br3 bs005x333",hoverClass:null,closeButton:false,closeButtonText:"",closeButtonClass:"closeButton",allowTouch:false},c?c:{});this.options.position.of=this.options.button||this.options.position.of;this.initialized=false;this.visible=false;this.container=null;this.contentArea=null;this.arrow=null;this.enable()};a.tooltip.prototype.initialize=function(){this.container=b("<div></div>");this.container.css({position:"absolute",top:0,left:0});this.container.addClass(this.options.nohoverClass);if(this.options.id){this.container.attr("id",this.options.id)}if(this.options.closeButton==true){var c=this;this.closeButton=b('<a href="javascript:void(0);">'+this.options.closeButtonText+"</a>");this.closeButton.addClass(this.options.closeButtonClass).appendTo(this.container);this.closeButton.click(function(f){c.hide()})}this.contentArea=b("<div>Loading&hellip;</div>").appendTo(this.container);this.arrow=b("<div></div>").addClass("ttPoint").appendTo(this.container);this.arrow.css({position:"absolute",top:0,left:0});this.container.hide();this.container.appendTo(document.body);var d=b(this.options.button);this.container.mouseenter(function(f){d.stop(true)}).mouseleave(function(f){d.mouseleave()});this.initialized=true};a.tooltip.prototype.enable=function(){var c=this;var e=b(this.options.button);var d=this.options;if(c.options.allowTouch==true){e.bind("touchstart.tooltip",function(g){if(c.visible){c.hide()}else{e.unbind("mouseenter.tooltip");e.unbind("mouseleave.tooltip");c.show();if(b.isFunction(d.content)){var f=d.content(c);if(f){c.write(f)}}else{if(d.content!==null){c.write(d.content)}}c.position()}})}e.bind("mouseenter.tooltip",function(f){if(c.visible){return}c.visible=true;e.stop(true).delay(d.delayShow).queue(function(h){c.show();if(b.isFunction(d.content)){var g=d.content(c);if(g){c.write(g)}}else{if(d.content!==null){c.write(d.content)}}c.position();h()})});e.bind("mouseleave.tooltip",function(f){e.stop(true).delay(d.delayHide).queue(function(g){if(c.container){c.hide();c.container.removeClass(d.hoverClass)}c.visible=false});e.removeClass(d.hoverClass)})};a.tooltip.prototype.disable=function(){var c=b(this.options.button);c.unbind("mouseenter.tooltip");c.unbind("mouseleave.tooltip")};a.tooltip.prototype.position=function(){this.container.position(this.options.position);var c=b.extend(true,{},this.options.position,{offset:"0 0",collision:"none none"});if(this.options.arrow_position){c=b.extend(true,{},c,this.options.arrow_position)}this.arrow.position(c);this.arrow.css({top:""})};a.tooltip.prototype.remove=function(){this.disable();if(this.container){this.container.remove()}this.initialized=false;this.visible=false};a.tooltip.prototype.write=function(c){this.contentArea.empty().append(c)};a.tooltip.prototype.getContainer=function(){return this.container};a.tooltip.prototype.hide=function(){if(this.container){this.container.hide();this.container.removeClass(this.options.hoverClass)}this.visible=false;b(this.options.button).removeClass(this.options.hoverClass);b("body").off("touchstart.tooltip.document")};a.tooltip.prototype.show=function(){if(!this.initialized){this.initialize()}this.visible=true;this.container.show();b(this.options.button).addClass(this.options.hoverClass);this.container.addClass(this.options.hoverClass);var c=this;c.container.bind("touchstart.tooltip",function(d){c.hide()})}})(wui,jQuery);(function(a,d){var b={};var c=[];a.glossary={};a.glossary.initialize=function(e){b=d.extend({selector:"dfn",url:"/glossary/responder.html",cache:{},tooltip:{delayShow:300,delayHide:300,hoverClass:null,position:{collision:"fit none"}}},e?e:{});this.start()};a.glossary.start=function(){d(b.selector).each(function(e){a.glossary.add(this)})};a.glossary.stop=function(){while(c.length>0){var e=c.pop();e.remove()}};a.glossary.add=function(g){var e=d(g);var f=b.tooltip;f.button=e;f.content=function(l){var k=e.attr("data-term");if(!k){k=e.text()}var j=e.attr("data-definition");a.glossary.lookup(k,l,j)};var h=new a.tooltip(f);c.push(h)};a.glossary.lookup=function(f,g,e){if(e){g.write(e);g.position()}else{if(b.cache[f]){g.write(b.cache[f]);g.position()}else{d.ajax({url:b.url,dataType:"html",data:{term:f},success:function(h,j){b.cache[f]=h;g.write(h);g.position()}})}}};d(document).ready(function(){a.glossary.initialize();var f=334,e=162;d(".casterMapMarker").each(function(h){var g=d(this);var j=g.next("div").html();g.removeClass("none");var l=parseFloat(g.css("left"));var k=parseFloat(g.css("top"));if(l<-3){l=-3}if(l>311){l=311}if(k<-3){k=-3}if(k>141){k=141}l=100*l/f+"%";k=100*k/e+"%";g.css({left:l,top:k});new a.tooltip({button:g,content:j,hoverClass:"hover",position:{collision:"fit none"}})})})})(wui,jQuery);(function(a,b){a.Menu=function(c){this.initialize(c)};a.Menu.prototype.initialize=function(c){this.options=b.extend(true,{classNames:{selected:"selected"},duration:400,selectors:{container:null,goBack:".sideGoBack",gotMore:".gotMore",subMenu:".sideSubNav"}},c);this.level=0;this.$selected=null;this.$container=b(this.options.selectors.container);this.addEvents()};a.Menu.prototype.addEvents=function(){var c=this;this.$container.bind("click",function(g){var d=b(g.target),e=d.closest("li"),f=e.hasClass(c.options.classNames.selected);if(e.is(c.options.selectors.gotMore)&&!f){g.preventDefault();g.stopPropagation();c.deselectAll();c.select(e);c.setLevel(c.level+1)}if(e.is(c.options.selectors.goBack)){g.preventDefault();g.stopPropagation();var h=c.setLevel(c.level-1);h.done(function(){c.deselectAll();c.back(e)})}})};a.Menu.prototype.select=function(c){$parents=c.parentsUntil(this.$container,this.options.selectors.gotMore);$parents.addClass(this.options.classNames.selected);c.addClass(this.options.classNames.selected);this.$selected=c};a.Menu.prototype.deselectAll=function(){var c=this.$container.find(this.options.selectors.gotMore);c.removeClass(this.options.classNames.selected);this.$selected=null};a.Menu.prototype.back=function(c){$parents=c.parentsUntil(this.$container,this.options.selectors.gotMore);c=$parents.eq(1);if(c[0]){this.select(c)}};a.Menu.prototype.getLevel=function(){return this.level};a.Menu.prototype.setLevel=function(e){e=Math.max(0,e);this.level=e;var c=e*-100;var d=this.slideTo(c);return d};a.Menu.prototype.slideTo=function(c){this.$container.animate({left:""+c+"%"},this.options.duration);return this.$container.promise()}})(wui,jQuery);(function(b,c){var a={};var d={classNames:{selected:"active"},eventName:"click.sidebar",selectors:{toggles:"#sidebarButton, .active #sidebar-gutter, .active #mobile-header"}};b.sidebar={initialize:function(e){a=c.extend(true,{},d,a,e);b.sidebar.addEvents()},addEvents:function(){c(document).on(a.eventName,a.selectors.toggles,function(f){f.preventDefault();f.stopPropagation();b.sidebar.toggle()})},show:function(){c("body").addClass(a.classNames.selected)},hide:function(){c("body").removeClass(a.classNames.selected)},toggle:function(){c("body").toggleClass(a.classNames.selected)}}})(wui,jQuery);(function(wui,$){$.ajaxSetup({cache:true});var settings={timeout:1000*60*15,stations:[],format:"js",maxage:20,changedClass:null,changedColor:"#00AA00",unchangedColor:"#000000",elementsSelector:"span.pwsrt",titleSelector:"#pwsrtTitle",repeat:true};var timeout_id=null;var disabled=false;wui.rapidfire=function(options){wui.rapidfire.setOptions(options);window.CondsLoaded=wui.rapidfire.CondsLoaded;wui.rapidfire.stop();wui.rapidfire.setupNext()};wui.rapidfire.setOptions=function(options){settings=$.extend(settings,options)};wui.rapidfire.getWUIDomain=function(){var domainStr=document.domain;var domainarray=domainStr.split(".");var domaincom=domainarray[domainarray.length-1];var domainname=domainarray[domainarray.length-2];return domainname+"."+domaincom};wui.rapidfire.getURL=function(){var url="http://stationdata."+wui.rapidfire.getWUIDomain()+"/cgi-bin/stationlookup?station=";url+=settings.stations.join(",");url+="&format="+settings.format;url+="&maxage="+settings.maxage;return url};wui.rapidfire.setupNext=function(){timeout_id=setTimeout(wui.rapidfire.start,settings.timeout)};wui.rapidfire.start=function(){if(!disabled){var url=wui.rapidfire.getURL();$.getScript(url)}};wui.rapidfire.stop=function(){if(timeout_id){clearTimeout(timeout_id)}timeout_id=null};wui.rapidfire.CondsLoaded=function(conds){var elements=$(settings.elementsSelector);var len=elements.length;var seconds_now=parseInt(conds.now);for(var index=0;index<len;index++){var element=elements[index];var pwsid=element.getAttribute("pwsid");var pwsunit=element.getAttribute("pwsunit");var pwsvariable=element.getAttribute("pwsvariable");var englishunit=element.getAttribute("english");var metricunit=element.getAttribute("metric");var oldvalue=element.getAttribute("value");var pwssetobject=element.getAttribute("pwssetobject");if(conds[pwsid]&&conds[pwsid][pwsvariable]){var value=conds[pwsid][pwsvariable];var newHTML="";if(pwsvariable=="winddir"){if(pwssetobject=="winddir"){}else{newHTML=lookupWindStringFormat(value);value=lookupWindString(value)}}else{if(pwsvariable=="lu"){if(parseInt(oldvalue)<=parseInt(value)){oldvalue=value}newHTML=convertTime(conds[pwsid],oldvalue);element.innerHTML=newHTML;element.setAttribute("value",value)}else{newHTML=value}}if(oldvalue!=value){if(pwsvariable=="tempf"){newHTML=convertTempIntoUnits(pwsunit,value,englishunit,metricunit);if($("#"+pwsid+"tempfspark").length>0){updateTempGraph(value,pwsid)}}else{if(pwsvariable=="windspeedmph"){newHTML=convertWindIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="windgustmph"||pwsvariable=="maxwindgust"){newHTML=convertWindIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="humidity"){newHTML=value}else{if(pwsvariable=="dewptf"){newHTML=convertTempIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="maxtemp"){newHTML=convertTempIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="mintemp"){newHTML=convertTempIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="baromin"){newHTML=convertPressureIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="rainin"){newHTML=convertRainIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="dailyrainin"){newHTML=convertRainIntoUnits(pwsunit,value,englishunit,metricunit)}else{if(pwsvariable=="RealTime"){newHTML=convertRealTime(value)}}}}}}}}}}}if(settings.changedClass){$(element).addClass(settings.changedClass)}if(settings.changedColor){$(element).css("color",settings.changedColor)}if(newHTML){element.innerHTML=newHTML}element.setAttribute("value",value)}else{if(settings.changedClass){$(element).removeClass(settings.changedClass)}if(settings.changedColor){$(element).css("color",settings.unchangedColor)}}if(pwssetobject){if(pwssetobject=="winddir"){wui.rapidfire.setWind(element,conds[pwsid][pwsvariable],true)}else{var pwsaction=pwssetobject+'.setValue("'+conds[pwsid][pwsvariable]+'");';eval(pwsaction)}}}else{if(pwsvariable=="lu"){var seconds_diff=seconds_now-parseInt(oldvalue);conds[pwsid]={};conds[pwsid]["ages"]=parseInt(seconds_diff%60);conds[pwsid]["agem"]=parseInt(seconds_diff/60)%60;conds[pwsid]["ageh"]=parseInt(seconds_diff/3600);newHTML=convertTime(conds[pwsid],oldvalue);element.innerHTML=newHTML}}}var elt_title=$(settings.titleSelector);if(elt_title[0]){var old_title=document.title;var new_title=elt_title.text();new_title=$.trim(new_title).replace(/\n|\r/g,"");if(old_title!==new_title){document.title=new_title}}if(settings.repeat){wui.rapidfire.setupNext()}};wui.rapidfire.setWind=function(elt,val,animate){elt=$(elt);if(!elt[0]){return}val=parseInt(val);while(val>=360){val-=360}while(val<0){val+=360}var val_prev=elt.data("val")||0;var width=elt.width();var steps=val-val_prev;var increment=1;elt.stop();if(steps<0){steps*=-1;increment*=-1}if(steps>180){steps=360-steps;increment*=-1}if(steps==0){var left=-1*val*width;wui.rapidfire.setWind.step(elt,left,false)}else{if(!animate){var left=-1*val*width;wui.rapidfire.setWind.step(elt,left,false)}else{var val_tmp=val_prev;for(var i=0;i<steps;i++){val_tmp+=increment;if(val_tmp>=360){val_tmp-=360}if(val_tmp<0){val_tmp+=360}var left=-1*val_tmp*width;wui.rapidfire.setWind.step(elt,left,true)}}}elt.data("val",val);elt.attr("title",val+"??")};wui.rapidfire.setWind.step=function(elt,left,changed){var delay=$.fx.interval;var x=left+"px";var y=changed?"bottom":"top";elt.queue(function(next){elt.css("background-position",x+" "+y);next()});elt.delay(delay)};$(document).ready(function(){var elements=$(settings.elementsSelector).filter("[pwssetobject=winddir]");for(var i=0;i<elements.length;i++){var elt=elements.eq(i);var val=elt.attr("value");if(val){wui.rapidfire.setWind(elt,val,false)}}})})(wui,jQuery);(function(a,b){var b=jQuery;a.sitewidealerts=function(x,l,r,j,n){var u=this;var o=new Array();var z=r;var g;var w;var v=x;var k=l;var e;var t=false;var p=0;var d=j;var y="";var c=0;var h=n;var m=false;var q=(1*60*1000);var f=30;this.changeLocation=function(B,C,A){v=B;k=this.translateState(C);t=A;o=null;o=new Array();d="";this.makeAjaxCall();b("#location-name").empty();if(b(window).width()>=400){b("#location-name").append(v+", "+k)}};this.getLocation=function(){return""+v+", "+k};this.setAnchored=function(A){if(!A){this.anchored=false;b("#anchor-button").removeClass("anchor-icon").addClass("static-icon");if(h){b("#alert-bar").removeClass("anchored-wundermap").addClass("static-wundermap")}else{b("#alert-bar").removeClass("anchored").addClass("static");b("#swa_padding").addClass("none").css("height","0px")}this.markAllOld()}else{this.anchored=true;b("#anchor-button").removeClass("static-icon").addClass("anchor-icon");if(h){b("#alert-bar").removeClass("static-wundermap").addClass("anchored-wundermap")}else{b("#alert-bar").removeClass("static").addClass("anchored");b("#alert-bar").css("top","-28px").animate({top:"0px"},"slow");b("#swa_padding").css("height","0px").removeClass("none").animate({height:"28px"},"slow")}}if(m){this.printAlertArray()}else{m=true}};this.setSeverity=function(A){if(A>1){if(h){b("#alert-icon").removeClass("inactive-icon").removeClass("moderate-icon").addClass("severe-icon");if(o.length>1){b("#alert-icon").removeClass("severe-icon").addClass("severe-more-icon").empty().append(o.length)}b("#bar-content").removeClass("none");b("#no-alert-header").addClass("none")}b("#alert-bar").removeClass("inactive").removeClass("moderate").addClass("severe").removeClass("hidden");b("#alert-content").removeClass("inactive-alert").addClass("active-alert")}else{if(A==1){if(h){b("#alert-icon").removeClass("inactive-icon").addClass("moderate-icon").removeClass("severe-icon");if(o.length>1){b("#alert-icon").removeClass("moderate-icon").addClass("moderate-more-icon").empty().append(o.length)}b("#bar-content").removeClass("none");b("#no-alert-header").addClass("none")}b("#alert-bar").removeClass("inactive").removeClass("severe").addClass("moderate").removeClass("hidden");b("#alert-content").removeClass("inactive-alert").addClass("active-alert")}else{if(h){b("#alert-icon").addClass("inactive-icon").removeClass("moderate-icon").removeClass("severe-icon");b("#alert-bar").removeClass("severe").removeClass("moderate").removeClass("inactive").addClass("hidden");b("#bar-content").addClass("none");b("#no-alert-header").removeClass("none")}else{b("#alert-bar").removeClass("severe").removeClass("moderate").addClass("inactive").removeClass("hidden")}b("#alert-content").addClass("inactive-alert").removeClass("active-alert")}}};this.getAnchored=function(){return this.anchored};this.translateSignificance=function(A){switch(A){case"HUW":return 2;break;case"TOR":return 2;break;case"WRN":return 3;break;case"FLO":return 2;break;case"SPE":return 0;break;case"SPC":return 0;break;case"PUB":return 0;break;default:return 1;break}return 0};this.addAlert=function(G){var E=false;b.each(o,function(I,J){if(o[I]["type"]==G.type){o[I]["dirty"]="0";E=true;if(o[I]["epoch"]!=G.date_epoch){o[I]["epoch"]=G.date_epoch}}if((G.type=="SEW")||(G.type=="TOW")){q=(1*60*1000)}});var D=d.split(",");if(!E){var C="";var A="";if(G.ZONES.length!=0){A=G.ZONES[0]["ZONE"];C=G.ZONES[0]["state"]}var H="1";for(var B=0;B<D.length;B++){if(G.type==D[B]){H="0"}var F=new Date();if(F.getTime()-parseInt(G.date_epoch)>=f*60*1000){H="0"}}o.push({type:G.type,description:G.description,"new":H,significance:this.translateSignificance(G.type),zone:A,state:C,epoch:G.date_epoch,updated:"1",dirty:"0",prepend:""})}};this.markAllDirty=function(){b.each(o,function(A,B){o[A]["dirty"]="1";o[A]["updated"]="0"})};this.markAllOld=function(){b.each(o,function(A,B){o[A]["new"]="0";o[A]["prepend"]=""})};this.printAlertArray=function(G){var B=0;this.newInLastPoll=0;b("#alert-list").empty();var A=[];for(var F=o.length-1;F>=0;F--){if(o[F]["dirty"]=="1"){o.splice(F,1)}else{var D="";if(o[F]["new"]=="1"){D="NEW";B=1}if(o[F]["updated"]=="1"){B=1;this.newInLastPoll=1}o[F]["prepend"]=D;A.push(o[F])}}if(A.length>0){B=1}A.sort(function(J,I){if(J.significance>I.significance){return -1}if(J.significance<I.significance){return 1}if(J["new"]>I["new"]){return -1}if(J["new"]<I["new"]){return 1}if(J.updated>I.updated){return -1}if(J.updated<I.updated){return 1}if(J.epoch>I.epoch){return -1}if(J.epoch<I.epoch){return 1}return 0});this.oldAlertList="";for(var E=0;E<A.length;E++){if((B==1)&&(A[E]["significance"]>=2)){B=2}if(A[E]["prepend"]!="NEW"){this.oldAlertList+=A[E]["type"]+","}}if(t){b("#alert-list").empty().append("<div>Unavailable Internationally</div>")}else{if(A.length==0){b("#alert-list").append("<div>No Alerts</div>")}else{b("#less-button").addClass("none");b("#more-button").addClass("none");var E=c;var C=b("#anchor-button").offset().left-b("#alert-list").offset().left- -b("#more-button").outerWidth()-30;while((b("#alert-list").width()<=C)&&(A.length>E)){var H="http://www.wunderground.com/";if(this.zone!=""){H="http://www.wunderground.com/US/"+k+"/"+y+".html?SWAmarkold="}else{if((A[E]["state"])!=""&&(A[E]["zone"]!="")){H="http://www.wunderground.com/US/"+A[E]["state"]+"/"+A[E]["zone"]+".html?SWAmarkold="}}if(A[E]["prepend"]=="NEW"){b("#alert-list").append("<a href='"+H+A[E]["type"]+"'><div class='alert new-alert'>"+A[E]["description"]+"</div></a>")}else{this.oldAlertList+=A[E]["type"]+",";b("#alert-list").append("<a href='"+H+A[E]["type"]+"'><div class='alert old-alert'>"+A[E]["description"]+"</div></a>")}E++}if(c>0){b("#less-button").removeClass("none")}if(b("#alert-list").width()>=C){b("#more-button").removeClass("none");b("#alert-list div").last().remove()}}}if((G==null)||(this.newInLastPoll==1)){a.prefs.setMany({SWALOC:""+v+","+k,SWAANCHORED:""+(this.anchored?1:0),SWAALERTS:""+this.oldAlertList})}return B};this.incrementIndex=function(A){c=Math.max(0,(c+A));this.printAlertArray(true)};this.makeFakeAjaxCall=function(){clearInterval(w);g=null;g=jQuery.ajax({url:"http://dev.wunderground.com/zak/fake.json",dataType:"json",success:function(A){y=A.query_zone;u.markAllDirty();b.each(A.alerts,function(C,D){u.addAlert(D)});var B=u.printAlertArray();if(B>=1){u.setSeverity(B);if(u.newInLastPoll){u.setAnchored(z)}}else{if(o.length==0){u.setSeverity(0)}}w=setInterval(function(){u.makeFakeAjaxCall()},60000);g=null},error:function(A,C,B){u.setSeverity(0);w=setInterval(function(){u.makeFakeAjaxCall()},60000);g=null}})};this.makeAjaxCall=function(A){clearInterval(w);g=null;g=jQuery.ajax({url:"http://api-ak.wunderground.com/api/da76745e63b41051/alerts/q/"+k+"/"+v+".json",dataType:"jsonp",success:function(B){if(!t){y=B.query_zone}else{y="999"}q=(10*60*1000);u.markAllDirty();if(!t){b.each(B.alerts,function(D,E){u.addAlert(E)})}var C;if(A==null){C=u.printAlertArray()}else{C=u.printAlertArray(true)}if(C>=1){u.setSeverity(C);if(u.newInLastPoll){u.setAnchored(true)}}else{if(o.length==0){u.setSeverity(0)}}w=setInterval(function(){u.makeAjaxCall(true)},q);g=null},error:function(B,D,C){u.setSeverity(0);v="Unavailable";k="";w=setInterval(function(){u.makeAjaxCall(true)},q);g=null}})};this.translateState=function(A){A=A.slice(0,1).toUpperCase()+A.slice(1).toLowerCase();if(A=="Alambama"){return("AL")}else{if(A=="Alaska"){return("AK")}else{if(A=="Arizona"){return("AZ")}else{if(A=="Arkansas"){return("AR")}else{if(A=="California"){return("CA")}else{if(A=="Colorado"){return("CO")}else{if(A=="Connecticut"){return("CT")}else{if(A=="Delaware"){return("DE")}else{if(A=="District of Columbia"){return("DC")}else{if(A=="Florida"){return("FL")}else{if(A=="Georgia"){return("GA")}else{if(A=="Hawaii"){return("HI")}else{if(A=="Idaho"){return("ID")}else{if(A=="Illinois"){return("IL")}else{if(A=="Indiana"){return("IN")}else{if(A=="Iowa"){return("IA")}else{if(A=="Kansas"){return("KS")}else{if(A=="Kentucky"){return("KY")}else{if(A=="Louisiana"){return("LA")}else{if(A=="Maine"){return("ME")}else{if(A=="Maryland"){return("MD")}else{if(A=="Massachusetts"){return("MA")}else{if(A=="Michigan"){return("MI")}else{if(A=="Minnesota"){return("MN")}else{if(A=="Mississippi"){return("MS")}else{if(A=="Missouri"){return("MO")}else{if(A=="Montana"){return("MT")}else{if(A=="Nebraska"){return("NE")}else{if(A=="Nevada"){return("NV")}else{if(A=="New Hamspire"){return("NH")}else{if(A=="New Jersey"){return("NJ")}else{if(A=="New Mexico"){return("NM")}else{if(A=="New York"){return("NY")}else{if(A=="North Carolina"){return("NC")}else{if(A=="North Dakota"){return("ND")}else{if(A=="Ohio"){return("OH")}else{if(A=="Oklahoma"){return("OK")}else{if(A=="Oregon"){return("OR")}else{if(A=="Pennsylvania"){return("PA")}else{if(A=="Rhode Island"){return("RI")}else{if(A=="South Carolina"){return("SC")}else{if(A=="South Dakota"){return("SD")}else{if(A=="Tennessee"){return("TN")}else{if(A=="Texas"){return("TX")}else{if(A=="Utah"){return("UT")}else{if(A=="Vermont"){return("VT")}else{if(A=="Virginia"){return("VA")}else{if(A=="Washington"){return("WA")}else{if(A=="West Virginia"){return("WV")}else{if(A=="Wisconsin"){return("WI")}else{if(A=="Wyoming"){return("WY")}else{return(A.toUpperCase())}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};this.setAnchored(z);this.makeAjaxCall(true);b(window).resize(function(){c=0;u.printAlertArray(true)})}})(wui,jQuery);(function(a,b){a.shrink={};a.shrink.init=function(){b("a[id$='_hide']").live("click",function(){var d="";var f=b(this);var c="";id_array=f.attr("id").split("_");c=id_array[0];for(var e=0;e<id_array.length;e++){if(id_array[e]!="hide"&&e==0){d+=id_array[e]}else{if(id_array[e]!="hide"){d+="_"+id_array[e]}}}container_visible=b("#"+d).is(":visible");if(!container_visible&&window[d+"_loaded"]==0){a.shrink.ajaxcontent(d,c,f)}else{a.shrink.toggleContainer(d,c,f)}return false})};a.shrink.ajaxcontent=function(d,c,e,f){b.ajax({url:"/cgi-bin/findweather/hdfForecast",dataType:"html",data:{query:"zmw:"+loadzmw,responder:"1",request:d},success:function(g,h){b("#"+d).html(g);window[d+"_loaded"]=1;a.glossary.initialize();a.shrink.toggleContainer(d,c,e,f)}})};a.shrink.show=function(c){if(b(c).hasClass("titleThinHide")){b(c).removeClass("titleThinHide").addClass("titleThinShow")}else{if(b(c).hasClass("nowcastHide")){b(c).removeClass("nowcastHide").addClass("nowcastShow")}else{b(c).removeClass("titleThickHide").addClass("titleThickShow")}}};a.shrink.hide=function(c){if(b(c).hasClass("titleThinShow")){b(c).removeClass("titleThinShow").addClass("titleThinHide")}else{if(b(c).hasClass("nowcastShow")){b(c).removeClass("nowcastShow").addClass("nowcastHide")}else{b(c).removeClass("titleThickShow").addClass("titleThickHide")}}};a.shrink.toggleContainer=function(d,c,e,f){b("#"+d).slideToggle("slow",function(){var g=b(this).is(":visible");if(g){a.shrink.show(e);if(c=="conds"){if(!b("#conds_details_cur_box").hasClass("none")){b("#conds_details_cur","#detailTabs").removeClass("contentTab").addClass("contentTabActive")}if(!b("#conds_details_hist_box").hasClass("none")){b("#conds_details_hist","#detailTabs").removeClass("contentTab").addClass("contentTabActive")}if(!b("#conds_details_fct_box").hasClass("none")){b("#conds_details_fct","#detailTabs").removeClass("contentTab").addClass("contentTabActive")}b("div[id^='conds_details']","#conds_details_radarbox").each(function(){if(!b(this).hasClass("none")){b("#"+b(this).attr("id"),"#imageTabs").removeClass("contentTab").addClass("contentTabActive")}})}b.ajax({url:"/auto/wui/geo/PrefDump/index.html?setprefs.0.key="+d+"&setprefs.0.val=1"})}else{a.shrink.hide(e);if(c=="conds"){b("a[id^=conds_details]","#conds_tabs").removeClass("contentTabActive").addClass("contentTab")}b.ajax({url:"/auto/wui/geo/PrefDump/index.html?setprefs.0.key="+d+"&setprefs.0.val=0"})}if(typeof f=="function"){f()}})};a.shrinksimple={};a.shrinksimple.init=function(){b("a[id$='_hidesimple']").live("click",function(){var d="";var f=b(this);var c="";id_array=f.attr("id").split("_");c=id_array[0];for(var e=0;e<id_array.length;e++){if(id_array[e]!="hidesimple"&&e==0){d+=id_array[e]}else{if(id_array[e]!="hidesimple"){d+="_"+id_array[e]}}}a.shrinksimple.toggleContainer(d,c,f);return false})};a.shrinksimple.show=function(c){if(b(c).hasClass("titleThinHide")){b(c).removeClass("titleThinHide").addClass("titleThinShow")}else{if(b(c).hasClass("nowcastHide")){b(c).removeClass("nowcastHide").addClass("nowcastShow")}else{b(c).removeClass("titleThickHide").addClass("titleThickShow")}}};a.shrinksimple.hide=function(c){if(b(c).hasClass("titleThinShow")){b(c).removeClass("titleThinShow").addClass("titleThinHide")}else{if(b(c).hasClass("nowcastShow")){b(c).removeClass("nowcastShow").addClass("nowcastHide")}else{b(c).removeClass("titleThickShow").addClass("titleThickHide")}}};a.shrinksimple.toggleContainer=function(d,c,e,f){b("#"+d).slideToggle("slow",function(){var g=b(this).is(":visible");if(g){a.shrinksimple.show(e)}else{a.shrinksimple.hide(e)}if(typeof f=="function"){f()}})};a.shrink.init();a.shrinksimple.init()})(wui,jQuery);(function(b){var a=[];wui.ToolPanel=function(e){if(!e){return}this.options=b.extend({selectedClass:"selected",closeSelector:".ToolPanelClose",group_id:null,onShow:null,onHide:null,eventType:"click",position:null},e);this.options.group_id=e.group;this.elt_button=b(e.button);this.elt_panel=b(e.panel);this.elt_close=this.elt_panel.find(this.options.closeSelector);if(!wui.ToolPanel.groups){wui.ToolPanel.groups={}}if(this.options.group_id){var c=wui.ToolPanel.groups;if(!(this.options.group_id in c)){c[this.options.group_id]=[]}c[this.options.group_id].push(this)}a.push(this);var d=this;if(this.options.eventType=="hover"){this.elt_button.hover(function(f){if(f.type=="mouseenter"){d.show()}else{d.hide()}})}else{this.elt_button.click(function(){var f=d.elt_panel.is(":visible");if(f){d.hide()}else{d.show()}})}this.elt_close.click(function(){d.hide()});b(this).trigger("create")};wui.ToolPanel.prototype.show=function(){if(this.options.group_id){wui.ToolPanel.hideGroup(this.options.group_id)}this.elt_panel.removeClass("none").show();if(this.options.position){this.position(this.options.position)}if(this.options.selectedClass){this.elt_button.addClass(this.options.selectedClass)}if(this.options.onShow){this.options.onShow.call(this)}};wui.ToolPanel.prototype.hide=function(){this.elt_panel.removeClass("none").hide();if(this.options.selectedClass){this.elt_button.removeClass(this.options.selectedClass)}if(this.options.onHide){this.options.onHide.call(this)}};wui.ToolPanel.prototype.position=function(d){var c=b.extend({my:"left top",at:"left bottom",of:this.elt_button},d);this.elt_panel.position(c)};wui.ToolPanel.hideGroup=function(e){var c=wui.ToolPanel.groups;if(e in c){var f=c[e];for(var d=0;d<f.length;d++){f[d].hide()}}};wui.ToolPanel.hideAll=function(){var c=a;for(var d=0;d<c.length;d++){c[d].hide()}}})(jQuery);function facebook_share_forecast(m,h,c,b,f,n,e,p,o,g,d,a,k){var j={name:"Weather Underground Forecast for "+k,href:m,properties:{Currently:c+" | "+b,Later:e+" | "+p+" | "+o,Tomorrow:g+" | "+d+" | "+a},media:[{type:"image",src:h,href:m}]};var l=[{text:"Get your forecast",href:"http://www.wunderground.com/"}];facebook_post_to_wall("forecast",k,j,l)}function facebook_share_wunderphoto(h,f,c,b,a,d){var g={name:"WunderPhoto: "+h,href:f,caption:a,properties:{"Uploaded By":{text:c,href:"http://www.wunderground.com/wximage/imagesearch.html?handle="+c+"&handlebox=1&submit=go"}},media:[{type:"image",src:b,href:f}]};var e=[{text:"View more WunderPhotos",href:"http://www.wunderground.com/wximage/"}];facebook_post_to_wall("wunderphoto",d,g,e)}function facebook_share_own_wunderphoto(h,f,c,b,a,d){var g={name:"WunderPhoto "+h,href:f,caption:"{*actor*} shared their photo on WunderPhotos!",properties:{Caption:a,"Uploaded By":{text:c,href:"http://www.wunderground.com/wximage/imagesearch.html?handle="+c+"&handlebox=1&submit=go"}},media:[{type:"image",src:b,href:f}]};var e=[{text:"View MORE of their WunderPhotos",href:"http://www.wunderground.com/wximage/"}];facebook_post_to_wall("wunderphoto",d,g,e)}function facebook_share_blog(c,e,a){var d={name:e,href:c,properties:{"Written By":{text:a,href:"http://www.wunderground.com/blog/"+a+"/show.html"}},media:[{type:"image",src:"http://icons.wxug.com/i/wu/wuLogo.png",href:"http://www.wunderground.com"}]};var b=[{text:"View more WunderBlogs",href:"http://www.wunderground.com/blog/"}];facebook_post_to_wall("wunderblog",a,d,b)}function facebook_share_worldview(f,d,a,b){var e={name:f,href:d,caption:"This week's World View from Weather Underground's community of photographers.",media:[{type:"image",src:a,href:d}]};var c=[{text:"View more WunderPhotos",href:"http://www.wunderground.com/wximage/"}];facebook_post_to_wall("worldview",b,e,c)}function facebook_share_page(f,c,e,a){var d={name:f,href:c,caption:"Weather Underground",media:[{type:"image",src:a,href:c}],description:e};var b=[{text:"Visit Weather Underground",href:"http://www.wunderground.com/"}];facebook_post_to_wall("page","42",d,b)}function facebook_post_to_wall(b,d,c,a){if(wui.facebook.initialized){FB.ui({method:"stream.publish",attachment:c,action_links:a},function(e){if(e&&e.post_id){var f="http://www.wunderground.com/cgi-bin/tally?node=Facebook."+b+"&value="+d;document.getElementById("fb-pixel").innerHTML+="<img src='"+f+"' />"}})}}(function(c,g){var e='<a href="/members/signup.asp" title="Create an account with wunderground">Join wunderground through Facebook</a>.',d="Facebook email not accessible.",f="Unable to sign in with Facebook.";c.member={};c.member.logged_in=function(){return jQuery("meta[name=wui-member-logged-in]").attr("content")==="true"};c.facebook={};c.facebook.initialized=false;c.facebook.load_handlers=[];c.facebook.app_id=g("meta[name=fb-app-id]").attr("content");c.facebook.channel_url=g("meta[name=fb-channel-url]").attr("content");c.facebook.permissions={scope:"email"};c.facebook.on_load=function(j){if(c.facebook.initialized){j.apply()}else{c.facebook.load_handlers.push(j)}};c.facebook.on_load_trigger=function(){FB.getLoginStatus(function(j){c.facebook.initialized=true;h(j.status);g.each(c.facebook.load_handlers,function(k,l){l.apply()});c.facebook.load_handlers=[]})};c.facebook.wui_login=function(j){return g.post("/php/c/user_session/create.php",{signed_request:FB.getAuthResponse().signedRequest}).error(function(k){var l=g.parseJSON(k.responseText).error_code,m=f;if(l==="pending_payment"){document.location.href="http://payment.wunderground.com/NoAdsPayment.php?mode=noads&return="}if(j){if(l==="email_missing"){m=d;c.facebook.revoke_permissions()}else{if(l==="email_mismatch"){m=e}}j({code:l,message:m})}})};c.facebook.login=function(j){return FB.login(j,c.facebook.permissions)};c.facebook.revoke_permissions=function(j){return FB.api("me/permissions","DELETE",{},function(k){setTimeout(function(){FB.getLoginStatus(function(l){},true)},1);if(jQuery.isFunction(j)){j.apply()}})};var b="unknown";c.facebook.status=function(){return b};c.facebook.is_status_unknown=function(){return c.facebook.status()=="unknown"};c.facebook.is_status_connected=function(){return c.facebook.status()=="connected"};c.facebook.is_status_not_connected=function(){return c.facebook.status()=="not_authorized"};var h=function(k){b=k;var j={connected:"fb-connected",not_authorized:"fb-not-connected",unknown:"fb-unknown"},l=j[k]||j.unknown;g.each(j,function(m,n){if(l!=n){g("body").removeClass(n)}});g("body").addClass(l)};c.facebook.on_load(function(){FB.Event.subscribe("auth.authResponseChange",function(j){h(j.status)})});var a=function(j){if(c.member.logged_in()){g.post("/php/c/facebook_connection/create.php",{fb_uid:j.authResponse.userID})}};c.facebook.on_load(function(){FB.Event.subscribe("auth.login",a)});c.facebook.logout=function(j){FB.logout(j)};c.facebook.is_member=function(j,k){if(k){return g.get("/php/c/member/get.php",{signed_request:j.signedRequest}).success(function(l){k(l.email)}).error(function(){k(null)})}}})(wui,jQuery);(function(e,f,h){var c="modal";var a=null;var g={classNames:{closeButton:"modal-close",modal:"modal",open:"open",overlay:"modal-overlay",selected:"selected"},close_on_esc:true,eventname:"click",hide:{duration:1000},show:{duration:1000}};var b=function(j){this.initialize(j)};b.prototype.initialize=function(j){this.options={delegatedTrigger:null,modal:null,trigger:null};this.setOptions(j);this.numOpens=0;this.$modal=f(this.options.modal);this.$trigger=f(this.options.trigger);this.addEvents()};b.prototype.setOptions=function(j){this.options=f.extend(true,{},g,this.options,j)};b.prototype.addEvents=function(){var j=this;if(this.options.delegatedTrigger){f(document).on(this.options.eventname,this.options.delegatedTrigger,function(){j.open()})}else{this.$trigger.on(this.options.eventname+"."+c,function(){j.open()})}};b.prototype.addCloseEvents=function(){var j=this;a.on(this.options.eventname+"."+c,function(){j.close()});var k=this.$modal.find("."+this.options.classNames.closeButton);k.on(this.options.eventname+"."+c,function(){j.close()});if(this.options.close_on_esc){f(document).on("keyup."+c,function(l){if(l.which===27){j.close()}})}};b.prototype.checkCreateOverlay=function(){if(!a){a=d()}};b.prototype.open=function(){f(this).triggerHandler("beforeopen");this.numOpens+=1;this.checkCreateOverlay();this.addCloseEvents();if(this.numOpens<=1){this.$modal.insertAfter(a)}a.addClass(this.options.classNames.open);a.show();this.$modal.addClass(this.options.classNames.open);if(this.options.show){this.$modal.show(this.options.show)}f(this).triggerHandler("open")};b.prototype.close=function(){f(this).triggerHandler("beforeclose");this.$modal.removeClass(this.options.classNames.open);if(this.options.hide){this.$modal.hide(this.options.hide)}a.removeClass(this.options.classNames.open);a.hide();f(this).triggerHandler("close")};function d(){var j=f("<div />").addClass(g.classNames.overlay).appendTo(f("body"));return j}e.Modal=b})(wui,jQuery);(function(a){a.fn.touchwipe=function(c){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};if(c){a.extend(b,c)}this.each(function(){var e;var d;var j=false;function h(){this.removeEventListener("touchmove",f);e=null;j=false}function f(n){if(b.preventDefaultEvents){n.preventDefault()}if(j){var k=n.touches[0].pageX;var o=n.touches[0].pageY;var m=e-k;var l=d-o;if(Math.abs(m)>=b.min_move_x){h();if(m>0){b.wipeLeft()}else{b.wipeRight()}}else{if(Math.abs(l)>=b.min_move_y){h();if(l>0){b.wipeDown()}else{b.wipeUp()}}}}}function g(k){if(k.touches.length==1){e=k.touches[0].pageX;d=k.touches[0].pageY;j=true;this.addEventListener("touchmove",f,false)}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",g,false)}});return this}})(jQuery);
/*
 * jQuery.ScrollTo
 * Copyright (c) 2007-2012 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 12/14/2012
 *
 * @projectDescription Easy element scrolling using jQuery.
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @author Ariel Flesler
 * @version 1.4.5 BETA
 *
 * @id jQuery.scrollTo
 * @id jQuery.fn.scrollTo
 * @param {String, Number, DOMElement, jQuery, Object} target Where to scroll the matched elements.
 *	  The different options for target are:
 *		- A number position (will be applied to all axes).
 *		- A string position ('44', '100px', '+=90', etc ) will be applied to all axes
 *		- A jQuery/DOM element ( logically, child of the element to scroll )
 *		- A string selector, that will be relative to the element to scroll ( 'li:eq(2)', etc )
 *		- A hash { top:x, left:y }, x and y can be any kind of number/string like above.
 *		- A percentage of the container's dimension/s, for example: 50% to go to the middle.
 *		- The string 'max' for go-to-end. 
 * @param {Number, Function} duration The OVERALL length of the animation, this argument can be the settings object instead.
 * @param {Object,Function} settings Optional set of settings or the onAfter callback.
 *	 @option {String} axis Which axis must be scrolled, use 'x', 'y', 'xy' or 'yx'.
 *	 @option {Number, Function} duration The OVERALL length of the animation.
 *	 @option {String} easing The easing method for the animation.
 *	 @option {Boolean} margin If true, the margin of the target element will be deducted from the final position.
 *	 @option {Object, Number} offset Add/deduct from the end position. One number for both axes or { top:x, left:y }.
 *	 @option {Object, Number} over Add/deduct the height/width multiplied by 'over', can be { top:x, left:y } when using both axes.
 *	 @option {Boolean} queue If true, and both axis are given, the 2nd axis will only be animated after the first one ends.
 *	 @option {Function} onAfter Function to be called after the scrolling ends. 
 *	 @option {Function} onAfterFirst If queuing is activated, this function will be called after the first scrolling ends.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @desc Scroll to a fixed position
 * @example $('div').scrollTo( 340 );
 *
 * @desc Scroll relatively to the actual position
 * @example $('div').scrollTo( '+=340px', { axis:'y' } );
 *
 * @desc Scroll using a selector (relative to the scrolled element)
 * @example $('div').scrollTo( 'p.paragraph:eq(2)', 500, { easing:'swing', queue:true, axis:'xy' } );
 *
 * @desc Scroll to a DOM element (same for jQuery object)
 * @example var second_child = document.getElementById('container').firstChild.nextSibling;
 *			$('#container').scrollTo( second_child, { duration:500, axis:'x', onAfter:function(){
 *				alert('scrolled!!');																   
 *			}});
 *
 * @desc Scroll on both axes, to different values
 * @example $('div').scrollTo( { top: 300, left:'+=200' }, { axis:'xy', offset:-20 } );
 */
(function(c){var a=c.scrollTo=function(f,e,d){c(window).scrollTo(f,e,d)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1,limit:true};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var e=this,d=!e.nodeName||c.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!d){return e}var f=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||f.compatMode=="BackCompat"?f.body:f.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){if(f==null){return}var m=this,k=c(m),l=f,j,g={},n=k.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(l)){l=b(l);break}l=c(l,this);if(!l.length){return}case"object":if(l.is||l.style){j=(l=c(l)).offset()}}c.each(d.axis.split(""),function(r,t){var u=t=="x"?"Left":"Top",w=u.toLowerCase(),q="scroll"+u,p=m[q],o=a.max(m,t);if(j){g[q]=j[w]+(n?0:p-k.offset()[w]);if(d.margin){g[q]-=parseInt(l.css("margin"+u))||0;g[q]-=parseInt(l.css("border"+u+"Width"))||0}g[q]+=d.offset[w]||0;if(d.over[w]){g[q]+=l[t=="x"?"width":"height"]()*d.over[w]}}else{var v=l[w];g[q]=v.slice&&v.slice(-1)=="%"?parseFloat(v)/100*o:v}if(d.limit&&/^\d+$/.test(g[q])){g[q]=g[q]<=0?0:Math.min(g[q],o)}if(!r&&d.queue){if(p!=g[q]){h(d.onAfterFirst)}delete g[q]}});h(d.onAfter);function h(o){k.animate(g,e,d.easing,o&&function(){o.call(this,f,d)})}}).end()};a.max=function(k,j){var h=j=="x"?"Width":"Height",e="scroll"+h;if(!c(k).is("html,body")){return k[e]-c(k)[h.toLowerCase()]()}var g="client"+h,f=k.ownerDocument.documentElement,d=k.ownerDocument.body;return Math.max(f[e],d[e])-Math.min(f[g],d[g])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:".",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}var rows=table.tBodies[0].rows;if(table.tBodies[0].rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,cells[i])}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,node){var l=parsers.length;for(var i=1;i<l;i++){if(parsers[i].is($.trim(getElementText(table.config,node)),table,node)){return parsers[i]}}return parsers[0]}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=table.tBodies[0].rows[i],cols=[];cache.row.push($(c));for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c.cells[j]),table,c.cells[j]))}cols.push(i);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){if(!node){return""}var t="";if(config.textExtraction=="simple"){if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){t=node.childNodes[0].innerHTML}else{t=node.innerHTML}}else{if(typeof(config.textExtraction)=="function"){t=config.textExtraction(node)}else{t=$(node).text()}}return t}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){rows.push(r[n[i][checkCell]]);if(!table.config.appender){var o=r[n[i][checkCell]];var l=o.length;for(var j=0;j<l;j++){tableBody[0].appendChild(o[j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false,tableHeadersRows=[];for(var i=0;i<table.tHead.rows.length;i++){tableHeadersRows[i]=0}$tableHeaders=$("thead th",table);$tableHeaders.each(function(index){this.count=0;this.column=index;this.order=formatSortingOrder(table.config.sortInitialOrder);if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(!this.sortDisabled){$(this).addClass(table.config.cssHeader)}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){i=(v.toLowerCase()=="desc")?1:0}else{i=(v==(0||1))?v:0}return i}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(getCachedSortType(table.config.parsers,c)=="text")?((order==0)?"sortText":"sortTextDesc"):((order==0)?"sortNumeric":"sortNumericDesc");var e="e"+i;dynamicExp+="var "+e+" = "+s+"(a["+c+"],b["+c+"]); ";dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function sortText(a,b){return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){$this.trigger("sortStart");var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){var $cell=$(this);var i=this.column;this.order=this.count++%2;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){var DECIMAL="\\"+config.decimal;var exp="/(^[+]?0("+DECIMAL+"0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)"+DECIMAL+"(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*"+DECIMAL+"0+$)/";return RegExp(exp).test($.trim(s))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[??$????.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[^0-9.]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}$("tr:visible",table.tBodies[0]).filter(":even").removeClass(table.config.widgetZebra.css[1]).addClass(table.config.widgetZebra.css[0]).end().filter(":odd").removeClass(table.config.widgetZebra.css[0]).addClass(table.config.widgetZebra.css[1]);if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);
/*
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(a){a.cookie=function(g,f,k){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(f))||f===null||f===undefined)){k=a.extend({},k);if(f===null||f===undefined){k.expires=-1}if(typeof k.expires==="number"){var h=k.expires,j=k.expires=new Date();j.setDate(j.getDate()+h)}f=String(f);return(document.cookie=[encodeURIComponent(g),"=",k.raw?f:encodeURIComponent(f),k.expires?"; expires="+k.expires.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.secure?"; secure":""].join(""))}k=f||{};var b=k.raw?function(l){return l}:decodeURIComponent;var c=document.cookie.split("; ");for(var e=0,d;d=c[e]&&c[e].split("=");e++){if(b(d[0])===g){return b(d[1]||"")}}return null}})(jQuery);jQuery(document).ready(function(a){if(wui.sidebar){wui.sidebar.initialize()}if(wui.Menu){new wui.Menu({selectors:{container:"#sideMenu"}})}});