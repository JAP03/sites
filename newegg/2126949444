PHTTP
18.7.20.70"ô
DGET /WebResource/Scripts/USA/WWW/HomePage.v1.w.10109.0.js HTTP/1.1
Host: images10.newegg.com
Connection: keep-alive
Accept: */*
vUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36
!Referer: http://www.newegg.com/
$Accept-Encoding: gzip,deflate,sdch
!Accept-Language: en-US,en;q=0.8

*’|
HTTP/1.1 200 OK
"Cache-Control: max-age=946080000
(Expires: Wed, 30 Mar 2044 23:03:12 GMT
&Content-Type: application/javascript
.Last-Modified: Mon, 31 Mar 2014 18:41:21 GMT
Content-Length: 15567
X-Served-By: e4cac05
X-Cache-Hits: 1
%Date: Tue, 08 Apr 2014 22:06:12 GMT
Connection: keep-alive
Ñy
usingNamespace("Biz.ShellShocker")["DealsScheduleBar"] = {ItemList: new Array(),ItemTypes: new Array(),CacheExpiration: 180000,CurrentItemIndex: 0,LastFreshTime: new Date(),LastQueryParam: "",LastQueryItemType: -1,LastQueryItemTransNo: -1,QueryMaxInterval: 250,QueryTimes: 0,QueueMaxLen: 1,ItemSwiper: new Object(),SwiperIndexMap: new Array(),IsQuerying: false,init: function (needCache, cacheExpiration, itemCount) {var dsb = this;var list = jQuery("#hdDealsItemList").val();if (index == "" || list == "") {return;}this.CurrentItemIndex = parseInt(index);var ilist = list.split(",");this.ItemList = ilist;this.CacheExpiration = cacheExpiration * 60 * 1000;this.ItemSwiper = new Swiper('#shellShocker2013 .swiper-container', {slidesPerSlide: 1,loop: false,onTouchMove: function () {if (!dsb.IsQuerying) {var queryIndex = -1;var d = dsb.moveDirection();dsb.updateActiveSlide();dsb.CurrentItemIndex = dsb.SwiperIndexMap[dsb.ItemSwiper.activeSlide];if (d == -1 && dsb.ItemList[dsb.CurrentItemIndex + 1] != undefined) {queryIndex = dsb.CurrentItemIndex + 1;}else if (d == 1 && dsb.ItemList[dsb.CurrentItemIndex - 1] != undefined) {queryIndex = dsb.CurrentItemIndex - 1;}if (queryIndex >= 0) {dsb.IsQuerying = true;dsb.changeDetail(dsb.ItemList[queryIndex], dsb.ItemTypes[queryIndex]);}}}});var el = this.ItemSwiper.wrapper;var events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];for (var i = 0; i < events.length; i++) {el.addEventListener(events[i], function () {var active_slide = '.time-tab' + dsb.SwiperIndexMap[dsb.ItemSwiper.activeSlide];jQuery('.time-tab').removeClass('selected');jQuery(active_slide).addClass('selected');}, false)}jQuery('.time-tabs a').each(function (index) {jQuery(this).click(function (e) {e.preventDefault();jQuery('.time-tab').removeClass('selected');jQuery(this).parent().addClass('selected');});});this.SwiperIndexMap[0] = parseInt(index);for (var i = 1; i < itemCount; i++) {this.SwiperIndexMap[i] = -1;}},moveDirection: function () {var x = this.ItemSwiper.getTranslate("x");if (x < -(this.ItemSwiper.activeSlide /*+ 0.3*/) * this.ItemSwiper.width) {/*left*/return -1;}else if (x > -(this.ItemSwiper.activeSlide/* - 0.3*/) * this.ItemSwiper.width) {/*right*/return 1;}else {return 0;}},updateActiveSlide: function () {var x = this.ItemSwiper.getTranslate("x");this.ItemSwiper.activeSlide = parseInt(-x / this.ItemSwiper.width);},clickTime: function (item, t) {this.changeDetail(item, t);this.slide();},changeDetail: function (item, t) {for (var i = 0; i < this.ItemList.length; i++) {if (item == this.ItemList[i]) {this.CurrentItemIndex = i;break;}}this.queryItemDetail(item, t);},queryItemDetail: function (item, t) {if (typeof (item) == undefined || typeof (t) == undefined || item == "" || t == "") {this.IsQuerying = false;return;}var para = "TransNo=" + item + "&DealType=" + t + "&IsHomePage=1&HomepageVersion=2013&Index=" + (this.CurrentItemIndex + 1);if (para == this.LastQueryParam) {this.IsQuerying = false;return;}this.LastQueryParam = para;this.LastQueryItemType = t;this.LastQueryItemTransNo = item;var now = new Date();var itemQueried = false;for (var i = 0; i < this.SwiperIndexMap.length; i++) {if (this.SwiperIndexMap[i] == this.CurrentItemIndex) {itemQueried = true;break;}}var needQuery = !itemQueried || (now.getTime() - this.LastFreshTime.getTime() > this.CacheExpiration);if (needQuery) {this.LastFreshTime = new Date();this.QueryTimes++;if (jQuery("#ShellShockerOverlay").css("display") != "") {this.loading();}setTimeout("Biz.ShellShocker.DealsScheduleBar.getData('" + para + "','" + this.CurrentItemIndex + "');", this.QueryMaxInterval);}else {Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "w44": this.LastQueryItemTransNo });Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "w45": this.LastQueryItemType });this.IsQuerying = false;}},getData: function (para, index) {var dsb = this;if (dsb.QueryTimes <= dsb.QueueMaxLen) {jQuery("body").queue(function () {jQuery.get(Web.UI.ResourceManager.Url.www("Common/Ajax/ShellShocker.aspx"), para, function (data) {var itemIndex =  jQuery(data).find("#ItemIndex").val() - 1;dsb.insertSlide(jQuery(data).find("#HomepageItemCell").html(), itemIndex);Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "w44": dsb.LastQueryItemTransNo });Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG, { "w45": dsb.LastQueryItemType });var countdownDivId = jQuery(data).find("#CountdownDivId").val();var remainTime = parseFloat(jQuery(data).find("#RemainTime").val());if (countdownDivId && remainTime) {jQuery("#"+countdownDivId).countdown({timestamp: (new Date()).getTime() + remainTime}, function () {dsb.QueueMaxLen++;dsb.QueryTimes++;dsb.getData(para, index);});}var coremetricsData = jQuery(data).find("#CoremetricsData").val();if (coremetricsData) {Biz.Common.Coremetric.send("ShellShocker" + (itemIndex + 1), JSON.parse(coremetricsData));}dsb.IsQuerying = false;jQuery("body").dequeue();});});}else {for (var i = 0; i < this.SwiperIndexMap.length; i++) {if (this.SwiperIndexMap[i] == index) {this.unloading(i);break;}}}dsb.QueryTimes--;},insertSlide: function (data, index) {for (var i = 0; i < this.SwiperIndexMap.length ; i++) {if (this.SwiperIndexMap[i] == index) {/*swiper's bug in IE 8, cannot insert slide after the last one*/if (this.SwiperIndexMap[i + 1] < 0 || this.SwiperIndexMap[i + 1] == undefined) {this.ItemSwiper.createSlide(data).append();}else {this.ItemSwiper.createSlide(data).insertAfter(i);}this.ItemSwiper.removeSlide(i);break;}else if (this.SwiperIndexMap[i] < 0) {this.ItemSwiper.createSlide(data).append();this.SwiperIndexMap[i] = index;break;}else if (this.SwiperIndexMap[i] < index) {continue;}else if (this.SwiperIndexMap[i] > index) {/*this.ItemSwiper.insertSlideAfter(i - 1, data);this doesn's work well when i=1*/if (i == this.ItemSwiper.activeSlide) {this.ItemSwiper.setTransition(0);this.ItemSwiper.positions.start -= this.ItemSwiper.width;this.ItemSwiper.positions.current = this.ItemSwiper.getTranslate("x") - this.ItemSwiper.width;this.ItemSwiper.setTransform(this.ItemSwiper.positions.current);}this.ItemSwiper.createSlide(data).insertAfter(i - 1);for (var j = this.SwiperIndexMap.length - 1; j > i ; j--) {this.SwiperIndexMap[j] = this.SwiperIndexMap[j - 1];}this.SwiperIndexMap[i] = index;break;}}},slide: function () {for (var i = 0; i < this.SwiperIndexMap.length; i++) {if (this.SwiperIndexMap[i] == this.CurrentItemIndex) {var that = this;setTimeout(function () {that.ItemSwiper.swipeTo(i, 400, false)},30);break;}}},loading: function () {this.insertSlide("<div id='ShellShockerOverlay_" + this.CurrentItemIndex + "' class='overlay'>" + jQuery("#ShellShockerOverlay").html() + "</div>", this.CurrentItemIndex);},unloading: function (index) {if (jQuery(Biz.ShellShocker.DealsScheduleBar.ItemSwiper.slides[index]).find("#ShellShockerOverlay_" + index.toString())) {this.ItemSwiper.removeSlide(index);for (var i = index; i < this.SwiperIndexMap.length - 1; i++) {this.SwiperIndexMap[i] = this.SwiperIndexMap[i + 1];}}}};usingNamespace("Biz.HomePage")["HomePage2011"] = {popupInit: function () {jQuery("a[rel='modal1']").click(function () {switch (jQuery(this).attr("name")) {case "a-seller":jQuery('#AlarmPanelNew .title').text(Web.Lang.marketplaceSeller);break;case "ship-free":jQuery('#AlarmPanelNew .title').text(Web.Lang.shippingRestrictions);jQuery('#AlarmPanelNew').attr('class', 'atnIcon icnInfoNew');break;case "ship-by-newegg":jQuery('#AlarmPanelNew .title').text(Web.Lang.shippedByNewegg);break;case "terms-mfrwarranty":jQuery('#AlarmPanelNew .title').text(Web.Lang.warrantyInfo);break;}Biz.HomePage.HomePage2011.popupDiv(this, 400, 200);});jQuery("#overlay").click(function () { Biz.HomePage.HomePage2011.closePopup() });Biz.HomePage.HomePage2011.resetPopup();jQuery(document).keypress(function (e) {if (jQuery("#modal1").css("display") == "block" && (e.which == 0 || e.which == 27)) {Biz.HomePage.HomePage2011.closePopup();return false;}return true;});},popupDiv: function (o, w, h) {o.blur();var vp = Biz.Common.Viewport;var wuc = Web.UI.Control;var pos = jQuery(o).offset();var width = jQuery(o).width();var pX = (pos.left + width < vp.right() - w) ? pos.left + width : vp.right() - w;var pY = (pos.top < vp.bottom() - h) ? pos.top : vp.bottom() - h;var body = document.getElementsByTagName("body")[0];jQuery("#modal1").css({ "left": pX + "px", "top": pY + "px" });jQuery("#modal1").removeClass('objVideo');jQuery("#modal1").children(".content").html('');jQuery("#modal1").toggleClass('loading');jQuery("#overlay").css("display", "block");if (Web.Environment.Browser.currentVersion() == Web.Enum.Browser.IE_6) {wuc.setAttribute($("overlay"), { "style.height": (body.scrollHeight + 50) + "px" });wuc.setAttribute($("overlay"), { "style.width": (body.scrollWidth) + "px" });$("overlay").innerHTML = "<iframe style='position:absolute;width:100%;height:100%;_filter:alpha(opacity=0);opacity=0;border-style:none;'></iframe>";wuc.setAttribute($("modal1"), { "style.height": "6em" });};jQuery("#modal1").show("fast");jQuery("#modal1").children(".content").html($(o.id + "_Content").innerHTML);return false;},closePopup: function () {jQuery("#modal1").hide("fast");jQuery("#overlay").css("display", "none");Biz.HomePage.HomePage2011.resetPopup();return true;},resetPopup: function () {jQuery('#AlarmPanelNew').attr('class', 'atnIcon icnInfo');jQuery('#AlarmPanelNew .title').text('');jQuery('#AlarmPanelNew').find("img").css("display", "");}};usingNamespace("Biz.Subscribe")["SubscribeToEmail2011"] = {nSubmit: function (subUrl) {var result = Biz.Common.NewsletterSingup.nSubmit('Newsletter', 'LoginName');if (result) {jQuery("#divNormal").css("display", "none");jQuery("#divSubmitSucceed").css("display", "block");if (Web.Config.SiteCatalyst.Enable) {Biz.Common.SiteCatalyst.sendForOnClick({ 'events': 'event21', 'eVar27': scp.pageName ? scp.pageName : (scp.cmPageName ? scp.cmPageName : void (0)), 'eVar49': 'email' }, 'email sign up');}document.forms["Newsletter"].submit();}else {document.getElementById("LoginName").focus();}}};usingNamespace("Biz.HomePage2013")["Personalization"] = function () {var viewedItems = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.PRDLIST,"ItemViewed");var shoppingCartItems = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG, "s97");var wishlistItems = Web.StateManager.Cookies.get("NV_WISHLIST");var orderedItems = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.PRDLIST, "ItemOrdered");var searchKeywords = Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.PRDLIST, "ItemSearchKeyWords");var subCookie = function(source,maxlength,delimiter) {var result = source;if(source) {var sourceArray = source.split(delimiter);if(sourceArray.length > maxlength) {result = sourceArray.slice(0, maxlength).join(delimiter);}}return result;};var getParameters = function() {viewedItems = subCookie(viewedItems, 10, "#");shoppingCartItems = subCookie(shoppingCartItems, 20, "&");wishlistItems = subCookie(wishlistItems, 20, "&");orderedItems = subCookie(orderedItems, 10, ",");if(searchKeywords) {var keyValue = searchKeywords.split("|");if(keyValue.length >= 2) {searchKeywords = subCookie(keyValue[1], 10, ",");}}return "q=" + Biz.HomePage2013.Config.FilterItem + "&v=" + escape(viewedItems) + "&s=" + escape(shoppingCartItems) + "&w=" + escape(wishlistItems) + "&o=" + escape(orderedItems) + "&k=" + escape(searchKeywords) + "&ispreview=" + Biz.HomePage2013.Config.IsPerEdit + "&HomepageVersion=2013";};return {getData: function() {var script = $("personalizationAjaxJs");if(script && script != null){document.getElementsByTagName('head')[0].removeChild(script);}script=document.createElement("script");script.type = "text/javascript";script.id= 'personalizationAjaxJS';script.src= Web.UI.ResourceManager.Url.www("Common/Ajax/PersonalizationHomePage.aspx") +"?" +  getParameters();document.getElementsByTagName('head')[0].appendChild(script);},renderData: function (pData) {if(pData.length > 0 ) {var modules = pData.split("|||###|||");if (modules != null && modules.length > 0) {jQuery("#personalizationContent1 .loader").remove();if (modules[0] != null) {jQuery("#personalizationContent1").append(modules[0]);}if (modules[1] != null) {jQuery("#personalizationContent2").append(modules[1]);}};if (Biz.Personalization2013 && Biz.Personalization2013.Top) {var $loopTop = Biz.Personalization2013.Top.Count > 1 ? true : false;var personalization2013Top = Biz.Personalization2013.Top.CoremetricData || {};var swPersonalization2013 = new Swiper('#personalizationContent1 .swiper-container', {pagination: $loopTop ? '#personalizationContent1 .pagination' : "",loop: $loopTop,simulateTouch: $loopTop,onSlideChangeEnd: function () {var activeSlideIndex = $loopTop ? swPersonalization2013.activeSlide + 1 : swPersonalization2013.activeSlide;var currentID = jQuery.trim(swPersonalization2013.getSlide(activeSlideIndex).getAttribute("data-cm-groupid"));if (personalization2013Top && personalization2013Top.length > 0) {Biz.Common.Coremetric.send(currentID, Biz.Personalization2013.Top.CoremetricData, true);Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation click");}}});var activeIndex=$loopTop?swPersonalization2013.activeSlide+1 :swPersonalization2013.activeSlide;Biz.Common.Coremetric.send(jQuery.trim(swPersonalization2013.getSlide(activeIndex).getAttribute("data-cm-groupid")), personalization2013Top,true);if ($loopTop) {jQuery('#personalizationContent1 .swiper-container .arrow-left').click(function (e) {e.preventDefault();swPersonalization2013.swipePrev();});jQuery('#personalizationContent1 .swiper-container .arrow-right').click(function (e) {e.preventDefault();swPersonalization2013.swipeNext();});}}if (Biz.Personalization2013 && Biz.Personalization2013.Left) {var $loopLeft = Biz.Personalization2013.Left.Count > 1 ? true : false;var personalization2013Left = Biz.Personalization2013.Left.CoremetricData || {};var swPersonalization2013Left = new Swiper('#personalizationContent2 .swiper-container', {pagination: $loopLeft ? '#personalizationContent2 .pagination' : "",loop: $loopLeft,simulateTouch: $loopLeft,onSlideChangeEnd: function () {var activeSlideIndex = $loopLeft ? swPersonalization2013Left.activeSlide + 1 : swPersonalization2013Left.activeSlide;var currentID = jQuery.trim(swPersonalization2013Left.getSlide(activeSlideIndex).getAttribute("data-cm-groupid"));if (personalization2013Left && personalization2013Left.length > 0) {Biz.Common.Coremetric.send(currentID, Biz.Personalization2013.Left.CoremetricData, true);Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation click");}}});var activeIndex = $loopLeft ? swPersonalization2013Left.activeSlide + 1 : swPersonalization2013Left.activeSlide;Biz.Common.Coremetric.send(jQuery.trim(swPersonalization2013Left.getSlide(activeIndex).getAttribute("data-cm-groupid")), personalization2013Left, true);if ($loopLeft) {jQuery('#personalizationContent2 .swiper-container .arrow-left').click(function (e) {e.preventDefault();swPersonalization2013Left.swipePrev();});jQuery('#personalizationContent2 .swiper-container .arrow-right').click(function (e) {e.preventDefault();swPersonalization2013Left.swipeNext();});}}if (Biz.Personalization2013 && Biz.Personalization2013.Right) {Biz.Common.Coremetric.send("Right1", Biz.Personalization2013.Right.CoremetricData, true);}Biz.Common.SiteCatalyst.sendCache("list1", "dynamic recommendation impression");Biz.HomePage.HomePage2011.popupInit();}else {jQuery("#personalizationContent1 .loader").remove();}}};}();