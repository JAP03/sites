PHTTP159.153.236.12"¨
%GET /v/GQkdzQ/js/errors.js HTTP/1.1
Host: www.pogo.com
Connection: keep-alive
Accept: */*
vUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36
Referer: http://www.pogo.com/
$Accept-Encoding: gzip,deflate,sdch
!Accept-Language: en-US,en;q=0.8
ZCookie: prod.JID=C816F2024A6FFAFE148716AABA2FA2A6.000163; com.pogo.unid=6711753983670030

*À
HTTP/1.1 200 OK
Age: 6284      
%Date: Wed, 15 Jan 2014 14:34:07 GMT
(Expires: Mon, 14 Jan 2019 14:34:08 GMT
#Cache-Control: max-age=157680000 
Connection: Keep-Alive
Via: POGO-EDGE
ETag: W/"1461-1366756213000"
Server: Apache-Coyote/1.1
Accept-Ranges: bytes
.Last-Modified: Tue, 23 Apr 2013 22:30:13 GMT
Content-Type: text/javascript
Content-Length: 1461
·
window.onerror = function(message, file, line) {
	if( file==null || isFromOurDomain(file) ) {
		var url = "/error/javascript.do";
		var data = "msg="+message.replace("&","&amp;");
		data += "&file="+file.replace("&","&amp;");
		data += "&line="+line;
		data += "&url="+location.href.replace("&","&amp;");
		var xmlHttpRequst = window.XMLHttpRequest?new XMLHttpRequest():(window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):false);
		if(xmlHttpRequst != false) {
			xmlHttpRequst.open('POST', url, true);
			xmlHttpRequst.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
			xmlHttpRequst.send(data);
		}
	}

	function isFromOurDomain(javascriptUrl) {
		var ourScripts = [
			"pogo.com/",
			"pogobeta.com/",
			"pogospike.com/",
			".ea.com/", // dev boxes
			"www.pogobingo.co.uk/", // bingo game pages
			// libraries :
			"ajax.googleapis.com/", // jquery, swfobject.js
			"apis.google.com/js/", // plusone.js
			"plusone.google.com/", // google's like button
			"www.java.com/" // deployJava.js
			//"facebook.com/", // facebook like buttons, friends online etc.
			//"tpbej3-prod.appspot.com/" // does this and 40 other genius games have any js?
		];

		for(var i=0; i<ourScripts.length; i++) {
			if( javascriptUrl.indexOf(ourScripts[i])>=0 ) {
				// some ads include dojo from google - that instance of dojo is not ours
				return javascriptUrl.indexOf("ajax.googleapis.com/ajax/libs/dojo")<0;
			}
		}
		return false;
	}
};